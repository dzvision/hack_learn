<html>
<head>
<title>Shell脚本编写思路和实例讲解</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0;max-width:100%;box-sizing:border-box;}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{-webkit-touch-callout:none;font family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px;line-height:36px;}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;line-height:37px;;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:42px;;line-height:1.4;margin:10px 0;padding-bottom:10px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;line-height:35px;;line-height:35px;;line-height:35px;;line-height:35px;;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:rgba(0,0,0,0.3)}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;line-height:32px;;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;line-height:38px;;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size:15px;line-height:35px;;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}.playVideoWx{position:relative;display:block;}.icon_mid_play{position:absolute;z-index:9999;top:50%;left:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:48px;height:48px;background:rgba(237,237,237,0.9);border-radius:50%}.icon_mid_play:before{content:"";text-indent:-999em;display:inline-block;width:28px;height:28px;vertical-align:middle;background-size:cover;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E  %3Cpath fill='%23151515' fill-rule='evenodd' d='M9.524 4.938l10.092 6.21a1 1 0 0 1 0 1.704l-10.092 6.21A1 1 0 0 1 8 18.21V5.79a1 1 0 0 1 1.524-.852z'/%3E%3C/svg%3E")}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head>
<body>
<div class="rich_media">
                
                <h1 class="rich_media_title" id="activity-name">
                    
                    
                    
Shell脚本编写思路和实例讲解
                </h1>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" class=" weui-wa-hotarea" id="js_name">
                        HACK学习呀                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">HACK学习呀</strong>
                              

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">Hacker1961X</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">HACK学习，专注于互联网安全与黑客精神；渗透测试，社会工程学，Python黑客编程，资源分享，Web渗透培训，电脑技巧，渗透技巧等，为广大网络安全爱好者一个交流分享学习的平台！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>
                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2018-07-08</em>
                </div>

                
                                                <div id="js_tags"  class="article-tag__list" style="display: none;" data-len="0">
                                            
                        <div class="article-tag-card__title">收录于话题</div>
                        <div class="article-tags">
                                                    </div>
                                    </div><div id="weixin_content"><p data-mpa-powered-by="yiban.io"><img class="" data-copyright="0" data-ratio="0.3188202247191011" data-s="300,640" src="图片/HACK学习呀_2018-07-08_Shell脚本编写思路和实例讲解/1_aPbK6xQJIHiaUOB16u0KcQnicDG9pg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou85etJYTkncLGY4Biavb6ibNacP7iaHc5fOEUUHZIlTV3uyqOmgKiaPbK6xQJIHiaUOB16u0KcQnicDG9pg/640?wx_fmt=png'" data-type="png" data-w="712" style=""  /></p><h2><span style="color: rgb(136, 136, 136);"><strong>前言</strong></span></a></h2><blockquote><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">常听见身边有很多学习shell脚本的朋友抱怨shell脚本不好写，好不容易写出来的脚本一直报错，符号空格又太多，错了一个就无法运行还不好排查错误。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">客观讲shell脚本的简洁程度确实有些堪忧，但是在Linux运维工作中shell脚本运用得非常广，在有些场合用shell会非常有效率，所以shell脚本编写是必须掌握的技能之一，我们还不能舍弃。</span></p></blockquote><hr  /><h2><span style="color: rgb(136, 136, 136);"><strong>方法要点</strong></span></h2><blockquote><p><span style="color: rgb(136, 136, 136);"><strong>言归正传，接下来我将分享我在编写shell脚本的时候学到的经验和写shell脚本的方法。</strong></span></p></blockquote><p><span style="color: rgb(136, 136, 136);"><strong>1.理清思路：</strong></span><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">在我们想实现一个功能需要写脚本的时候是切忌不要想到就写，避免需要什么功能就先写个什么命令再去完善，这种写法常常会出现在结构上很难调整的问题。在我们开始写脚本之前一定要事先理清楚要怎么去实现这个功能，包括用什么命令和命令的先后顺序。</span></p><p><span style="color: rgb(136, 136, 136);"><strong>2.全局观：</strong></span><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">当我们理清脚本的思路之后，我们这个时候也不能马上就开始写，这个时候我们需要在脑海中思考每一个步骤中可能出现的情况，当出现各种情况后如何应对。在shell脚本中有可能我们要实现一个看似简单的功能会需要有多个条件判断，因为出现在我们当前系统上的情况只是在众多情况中的一种，我们要实现让脚本在任何机器上都能正常运行就必须有“全局观”。通俗讲就是一个排除bug的过程。</span></p><p><span style="color: rgb(136, 136, 136);"><strong>3.心细如丝：</strong></span><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">正如大家感慨的一样，shell脚本有非常多的引号括号空格，每一种意义不一样，多个空格少个空格意义又不一样，写个几十行的shell脚本能一次性写完就无错运行还是有一些难度的。我的在学习shell脚本一开始就强行给自己养成一个习惯，每写完一行就检查一次各种符号括号，刚开始速度非常慢，但是写得多了速度就越来越快而且出错率也越来越低，当养成习惯以后再去写那些符号就成了习惯没有刚开始那么痛苦了。</span></p><p><span style="color: rgb(136, 136, 136);"><strong>4.好记性不如烂键盘：</strong></span><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">有一句不好听的话虽然不好听，但是能提醒到一些正在学习shell脚本的朋友说出来也挺好。当你在抱怨shell脚本如何难写如何易出错的时候那么你总共写过多少行shell？你敲过多少次键盘？当你无数次练习，把键盘都敲到字都掉完了之后还会说这句话吗？对！你还会说这句话，但已经不是抱怨而是评价。</span></p><hr  /><h2><span style="color: rgb(136, 136, 136);"><strong>实例</strong></span></h2><blockquote><p><span style="color: rgb(136, 136, 136);"><strong>编写脚本checkdisk.sh，运行效果：检查磁盘分区空间和inode使用率，如果超过80%，就发广播警告空间将满</strong></span></p></blockquote><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">看到题目后先审题，然后按照我们上面的方法来。</span></p><p><span style="color: rgb(136, 136, 136);"><strong>第一步，我们先把要实现的功能理清。</strong></span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">要查看磁盘分区和inode的使用情况那么会用到 df 和df -i 命令 <br  />提取出df命令中使用率的部分会用到grep用到cut以及head还有tail等这些对文本处理的命令 <br  />要比较数值那么可能会用到中括号和数值比较 <br  />最后发广播要用到wall命令 <br  />因为磁盘分区并不是只有一个，或许还会用到if条件判断以及循环。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">这个时候我们的思路可以是这样： <br  />1.先用grep等文本处理命令取出df中的百分比值 <br  />2.用中括号判断这些值这些值是否大于80 <br  />3.将大于百分之80的值对应的分区用wall进行广播</span></p><p><span style="color: rgb(136, 136, 136);"><strong>第二步，思考每一步会出现的问题和情况然后应对。</strong></span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">在上一步中我们已经把主线理清，既然线路已经规划了那么就开始铺路吧。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">1.要取出df命令中的百分比值我们首先需要观察百分比值在df命中是出现在哪个位置，然后用正则表达式匹配，之后用cut等命令取出，但是分区有很多个而且还要判断inode的使用情况所以我们还要搞清楚一共有多少个分区，那么这里会用到几个变量：代表磁盘空间分区个数的变量、代表磁盘inode分区个数的变量、代表被取出的磁盘分区路径的变量、代表被取出的百分比数值的变量。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">2.因为包括inode的话磁盘分区要比较的就很多，如果挨个比较的话就会大大增加脚本的行数，写起来非常累，这里就可以考虑利用分区的个数变量利用循环语句来比较每个分区使用量是否达到80%以上以及输出比较结果，而考虑到还有inode则可以用if elif来判断。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">3.既然路也铺好了，那就上路吧。</span></p><blockquote><p><span style="color: rgb(136, 136, 136);"><strong>下面我会将我写的脚本贴在这里，可能看起来会有一些长，但是其实只要认真阅读了我上面所有的阐述就会觉得其实非常简单。</strong></span></p><p><span style="color: rgb(136, 136, 136);"><strong>注意：在脚本中出现的正则表达式我将不再细讲，有兴趣的朋友可以在网上查询相关资料。</strong></span></p><p><br  /></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 6px;overflow-x: auto;white-space: nowrap;" class="hljs-default"><span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">#!/bin/bash</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 115px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#author:Driver_C</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 158px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#mail:740560896@qq.com</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 115px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#time:2017-06-11</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 338px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#filename:checkdisk.sh &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //以上为注释段</span><br  /><br  />linenum=`df | egrep <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 165px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | wc -l`<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 285px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#将用正则表达式取到的磁盘分区个数赋值给linenum</span><br  /><br  />test1=`df | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 166px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f1`<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 595px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#经过一系列的文本处理取出磁盘分区使用量最大的分区的数值赋给test1，这个变量在决定循环是否进行的关键</span><br  /><br  />test2=`df -i | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 165px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f1`<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 672px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#如同上一条命令，df选项多了-i，意义在取出inode使用量最大的分区使用量数值赋给test2，同样也是循环是否进行的关键</span><br  /><br  />num=1<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 602px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这个变量在整个判断过程中非常重要，这个变量用于给while循环中判断当前操作行，判断之后加1以实现循环的</span><br  /><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">if</span> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 57px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$test1</span>"</span> -ge <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"80"</span> ]；<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">then</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 583px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这个if的意义在于判断之前磁盘分区使用率最大的分区是否大于或等于80%，是就执行循环依次判断每个分区</span><br  /><br  /> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">while</span> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> -le <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 72px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$linenum</span>"</span> ]<br  /> <span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 1286px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这里就用到了上面的num和linenum变量，意义在于当num小于或等于磁盘分区行数的时候才执行下面的命令，相当于只要刚才的if判断有分区使用量大于80%就会把所有分区都放进循环里比较，因为有可能使用量大于80%并不只有一个分区。</span><br  /><br  /> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">do</span><br  /> testnum1=`df | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 165px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> | tail -n1 | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f1`<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 818px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这一段命令的功能是用于提取出分区使用量的数值用于后面的比较，这里注意一下我在命令中num变量的用法，num需要带进命令中才能实现不同行的提取</span><br  /><br  /> testname1=`df | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 166px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> | tail -n1 | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f2`<br  /> <span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 797px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这一段主要功能是提取分区路径，意义在于上一行命令提取出来的数值如果大于80%，在广播磁盘分区不足的时候就能给出到底是哪一个分区快要满了</span><br  /><br  /> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 80px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 64px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$testnum1</span>"</span> -ge <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"80"</span> ] &amp;&amp; wall <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 86px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 72px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$testname1</span>"</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' will be full'</span><br  /> <span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 487px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这一段就是比较数值的和输出的部分，命令很简单比较好理解，要注意的是用的变量要看清</span><br  /><br  /> num=$[num+1]<br  /> <span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 360px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#当循环一次之后num加上1再次循环的时候就能匹配下一行的信息了</span><br  /><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">done</span><br  /><br  />num=1<br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 804px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#num变量是否重新赋值为1直接决定了下面的判断是否能正常运行，因为上面的循环结束后num的值为7，如果不重新赋值为1那后面的命令相当于没写。</span><br  /><br  /><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 535px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这一部分的结构和上面是一样的，我就不再每条都做解释，这一段的主要功能是判断inode的用量。</span><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">elif</span> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$test2</span>"</span> -ge <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"80"</span> ]<br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">then</span><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">while</span> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> -le <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 72px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 57px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$linenum</span>"</span> ]<br  /> <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">do</span><br  /> testnum2=`df -i | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 166px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> | tail -n1 | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f1`<br  /> testname2=`df -i | egrep -o <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 165px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"\&lt;[[:digit:]]{1,3}%.*"</span> | tr <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">'%'</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> | tr -s <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> |sort -nr | head -n<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$num</span>"</span> | tail -n1 | head -n1 | cut -d<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' '</span> -f2`<br  /> [ <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 80px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 64px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$testnum2</span>"</span> -ge <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"80"</span> ] &amp;&amp; wall <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 86px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"<span class="hljs-default-variable" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 72px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">$testname2</span>"</span><span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 151px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">' Inode will be full'</span><br  />num=$[num+1]<br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">done</span><br  /><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">else</span><br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">echo</span> <span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 187px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">"All filesystems are safe"</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 379px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这里非常好理解，如果上面的没有一个匹配上就直接输出这一段信息。</span><br  /><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">fi</span><br  /><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 211px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#养成好习惯，用过的变量结束就回收。</span><br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> linenum<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> test1<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> test2<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> num<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> testnum1<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> testname1<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> testnum2<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">unset</span> testname2<br  /><span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(230, 192, 123);font-weight: 400;font-style: normal;">exit</span></code></pre></section><p><br  /></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">脚本内容就是以上部分，其实按照我之前的思路，这个脚本虽然行数不少，但是并不难以理解，写脚本没有想象的那么难，难的是下不去手。本文这个题目对初学者来说是个不错的练习。</span></p><hr  /><h2><span style="color: rgb(136, 136, 136);"><strong>试验</strong></span></h2><blockquote><p><span style="color: rgb(136, 136, 136);"><strong>看到这里有朋友会说了，上面稀里哗啦说这么多到底能不能用都不知道毕竟“Linux is interesting”我们需要去玩玩才知道。</strong></span></p></blockquote><p><span style="color: rgb(136, 136, 136);"><strong>试验系统：CentOS 7.3 1611</strong></span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 6px;overflow-x: auto;white-space: nowrap;" class="hljs-default">[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;"># df</span><br  />Filesystem &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>K-blocks &nbsp; &nbsp;Used Available Use% Mounted <span class="hljs-default-literal" style="color: rgb(86, 182, 194);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(86, 182, 194);font-weight: 400;font-style: normal;">on</span><br  /><span class="hljs-default-regexp" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 353px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">/dev/sda2 &nbsp; &nbsp; &nbsp;104806400 5397480 &nbsp;99408920 &nbsp; 6% /</span><br  />devtmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">485308</span> &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">485308</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>% /dev<br  />tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">499980</span> &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">4</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">499976</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>% /dev/shm<br  />tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">499980</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">7196</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">492784</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2</span>% /run<br  />tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">499980</span> &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">499980</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>% /sys/fs/cgroup<br  />/dev/sda3 &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">52403200</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">32944</span> &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 57px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">52370256</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>% /app<br  />/dev/sda1 &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1038336</span> &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">172116</span> &nbsp; &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">866220</span> &nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">17</span>% /boot<br  />tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">100000</span> &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">8</span> &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 36px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">99992</span> &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">1</span>% /run/user/<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span><br  />/dev/sr0 &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">8086368</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 50px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">8086368</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">100</span>% /run/media/root/CentOS <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">7</span> x86_64<br  />[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#</span></code></pre></section><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">可以看到我因为在系统上挂了一张光盘，所以有一个分区是100%，运行一下脚本试试能不能测出来。</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 6px;overflow-x: auto;white-space: nowrap;" class="hljs-default">[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 122px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;"># checkdisk02.sh </span><br  /><br  />Broadcast message from root@centos7.com (pts/<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>) (Sun Jun <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">11</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">15</span><span class="hljs-default-symbol" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">:</span><span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">44</span><span class="hljs-default-symbol" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(97, 174, 238);font-weight: 400;font-style: normal;">:</span><span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">12</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2017</span>):<br  /><br  /><span class="hljs-default-regexp" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 72px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">/run/media</span><span class="hljs-default-regexp" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;">/root/</span>CentOS will be full<br  />[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#</span></code></pre></section><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">完美呈现出大于80%的分区名。</span></p><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">那么我们现在再把一个分区使用率增加到80%以上看看是否能都显示出来。</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t"><pre style="margin:0;padding:0;border-radius:none;background:none;"><code style="border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 6px;overflow-x: auto;white-space: nowrap;" class="hljs-default">[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 338px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;"># dd if=/dev/zero of=/boot/file bs=1M count=800</span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 403px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#这里我们可以用dd命令在/boot目录下写入一个文件把/boot分区撑过80%</span><br  /><span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">800</span>+<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span> records <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">in</span><br  /><span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">800</span>+<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span> records out<br  /><span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">838860800</span> bytes (<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">839</span> MB) copied, <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2.30907</span> s, <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">363</span> MB/s<br  />[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 122px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;"># checkdisk02.sh </span><br  /><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#执行脚本</span><br  />Broadcast message <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> root@centos7.com (pts/<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>) (Sun Jun <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">11</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">15</span>:<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">46</span>:<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">43</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2017</span>):<br  /><br  />/run/media/root/CentOS will be full<br  /><br  />Broadcast message <span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(198, 120, 221);font-weight: 400;font-style: normal;">from</span> root@centos7.com (pts/<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">0</span>) (Sun Jun <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">11</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">15</span>:<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 15px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">46</span>:<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">43</span> <span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 28px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;">2017</span>):<br  /><br  />/boot will be full<br  />[root@centos7 ~]<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 7px;text-decoration: none solid rgb(92, 99, 112);font-weight: 400;font-style: italic;">#</span></code></pre></section><p><span style="color: rgb(136, 136, 136);font-size:14px;line-height:34px;;">当我们把另外一个分区也撑过80%后依然完美呈现。脚本运行正常。</span></p><hr  /><h2><span style="color: rgb(136, 136, 136);"><strong>结语</strong></span></h2><blockquote><p><span style="font-size:14px;line-height:34px;;color: rgb(136, 136, 136);">其实在我们的学习过程中如果遇到感觉很吃力的东西并不是说自己智力有限了自己能力有限了，那只不过是给键盘敲少了找借口，多敲多练即使理解不了也学会怎么用了。</span></p><p><br  /></p><p><span style="color: rgb(136, 136, 136);">最后给大家推荐一本书！</span></p></blockquote><section><mpcps frameborder="0" class="js_editor_cps" data-datakey="1531053836980_0.46255231007540276" style="width:100% !important;border:0;" data-uid="1531053836976" data-product="%7B%22productData%22%3A%5B%7B%22ad_block_status%22%3A0%2C%22appid%22%3A%22wx831660fe3ded4389%22%2C%22book%22%3A%7B%22author%22%3A%5B%22%E7%9F%B3%E5%BA%86%E5%86%AC%E7%BC%96%E8%91%97%22%5D%2C%22book_desc%22%3A%22%E3%80%80%E3%80%80%E6%9C%AC%E4%B9%A6%E7%B3%BB%E7%BB%9F%E5%9C%B0%E4%BB%8B%E7%BB%8D%E4%BA%86%E5%9C%A8Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%B9%BF%E6%B3%9B%E4%BD%BF%E7%94%A8%E7%9A%84Bash%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80%E3%80%82%E5%85%A8%E4%B9%A6%E5%86%85%E5%AE%B9%E7%9A%84%E5%AE%89%E6%8E%92%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%EF%BC%8C%E4%BD%93%E7%B3%BB%E5%90%88%E7%90%86%E3%80%82%E5%85%88%E8%AE%B2%E8%A7%A3%E8%84%9A%E6%9C%AC%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E4%BB%8B%E7%BB%8DLinux%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%8C%E7%84%B6%E5%90%8E%E6%A0%B9%E6%8D%AE%E6%A6%82%E5%BF%B5%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%AE%B2%E8%A7%A3Bash%E7%8E%AF%E5%A2%83%E8%AE%BE%E7%BD%AE%E3%80%81%E5%8F%98%E9%87%8F%E4%B8%8E%E6%95%B0%E7%BB%84%E3%80%81%E6%9D%A1%E4%BB%B6%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E3%80%81%E5%BE%AA%E7%8E%AF%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E3%80%81%E8%BF%9B%E7%A8%8B%E4%B8%8E%E4%BD%9C%E4%B8%9A%E3%80%81%E9%AB%98%E7%BA%A7%E8%AF%9D%E9%A2%98%E7%AD%89%E3%80%82%E6%9C%AC%E4%B9%A6%E6%98%AF%E4%B8%80%E6%9C%AC%E4%B8%8D%E5%8F%AF%E5%A4%9A%E5%BE%97%E7%9A%84shell%E7%BC%96%E7%A8%8B%E5%8E%9F%E5%88%9B%E8%AF%BB%E7%89%A9%E3%80%82%22%2C%22publisher%22%3A%22%E6%9C%BA%E6%A2%B0%E5%B7%A5%E4%B8%9A%E5%87%BA%E7%89%88%E7%A4%BE%22%7D%2C%22category_id%22%3A3%2C%22commission_ratio%22%3A%225.00%25%22%2C%22has_commission%22%3Atrue%2C%22img_url%22%3A%22https%3A%2F%2Fres.wx.qq.com%2Fproduct_material%2F9uwXY_aeJvYnStFUBYr0TFiN6vuY7AnZSXrCQN_b99ZVhOrOLDBgwA3yCI7ZKUM9%22%2C%22movie%22%3A%7B%22actor%22%3A%5B%5D%2C%22alt_name%22%3A%5B%5D%2C%22classify%22%3A%5B%5D%2C%22director%22%3A%5B%5D%7D%2C%22pid%22%3A%2223601680%22%2C%22source_logo_url%22%3A%22http%3A%2F%2Fmmbiz.qpic.cn%2Fmmbiz_png%2F6nVmK0mHaRr8fd8C4yNUm5BrcwmJ17I867w7sZwrxtAmG0NdTKhZj8eAEeRt0Ycgc9pnL4ib77PJ0UKDoT43MsA%2F0%22%2C%22source_name%22%3A%22%E5%BD%93%E5%BD%93%22%2C%22title%22%3A%22%E5%AE%9E%E7%94%A8Linux%20Shell%E7%BC%96%E7%A8%8B%22%2C%22cps_desc%22%3A%22%E7%9F%B3%E5%BA%86%E5%86%AC%E7%BC%96%E8%91%97%22%2C%22cps_desc_long%22%3A%22%E4%BD%9C%E8%80%85%EF%BC%9A%E7%9F%B3%E5%BA%86%E5%86%AC%E7%BC%96%E8%91%97%22%7D%5D%7D" data-type="1" data-color="#fa7834" data-smartnum="" data-packid="" data-pid="23601680" data-templateid="list" data-categoryid="3" data-appid="wx831660fe3ded4389"></mpcps></section><p><br  /></p></blockquote><p><img src="图片/HACK学习呀_2018-07-08_Shell脚本编写思路和实例讲解/2_rsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png'" data-type="png" class="" data-ratio="0.109375" data-w="640"  /></p><p style="text-align: center;"><span style="font-size:10px;line-height:30px;;color: rgb(136, 136, 136);">本文转载自CSDN，作者：Driver_C</span></p><p style="text-align: center;"><span style="font-size:10px;line-height:30px;;color: rgb(136, 136, 136);">点击阅读原文即可传送</span></p><p><img class="" data-copyright="0" data-ratio="0.3281027104136947" data-s="300,640" src="图片/HACK学习呀_2018-07-08_Shell脚本编写思路和实例讲解/3_9kZ6Bzp6HKPIkCGYkfBsPynR63cBgg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou85etJYTkncLGY4Biavb6ibNajxPOSFB9UFWD40tY4uCrHqy59kZ6Bzp6HKPIkCGYkfBsPynR63cBgg/640?wx_fmt=png'" data-type="png" data-w="701" style=""  /></p><p><br  /></p>
                <div class="msg_source_url"><a href="https://blog.csdn.net/a5548743/article/details/73028348/">阅读原文</a></div></div>
</div>
</body>
</html>