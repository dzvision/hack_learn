<html>
<head>
<title>SOCKS代理渗透之内网漫游代理姿势</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0;max-width:100%;box-sizing:border-box;}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{-webkit-touch-callout:none;font family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px;line-height:36px;}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;line-height:37px;;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:42px;;line-height:1.4;margin:10px 0;padding-bottom:10px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;line-height:35px;;line-height:35px;;line-height:35px;;line-height:35px;;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:rgba(0,0,0,0.3)}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;line-height:32px;;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;line-height:38px;;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size:15px;line-height:35px;;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}.playVideoWx{position:relative;display:block;}.icon_mid_play{position:absolute;z-index:9999;top:50%;left:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:48px;height:48px;background:rgba(237,237,237,0.9);border-radius:50%}.icon_mid_play:before{content:"";text-indent:-999em;display:inline-block;width:28px;height:28px;vertical-align:middle;background-size:cover;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E  %3Cpath fill='%23151515' fill-rule='evenodd' d='M9.524 4.938l10.092 6.21a1 1 0 0 1 0 1.704l-10.092 6.21A1 1 0 0 1 8 18.21V5.79a1 1 0 0 1 1.524-.852z'/%3E%3C/svg%3E")}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head>
<body>
<div class="rich_media">
                
                <h1 class="rich_media_title" id="activity-name">
                    
                    
                    
SOCKS代理 | 渗透之内网漫游代理姿势
                </h1>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                                    tahf
                                                            </span>
                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" class=" weui-wa-hotarea" id="js_name">
                        HACK学习呀                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">HACK学习呀</strong>
                              

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">Hacker1961X</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">HACK学习，专注于互联网安全与黑客精神；渗透测试，社会工程学，Python黑客编程，资源分享，Web渗透培训，电脑技巧，渗透技巧等，为广大网络安全爱好者一个交流分享学习的平台！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>
                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2018-10-13</em>
                </div>

                
                                                <div id="js_tags"  class="article-tag__list" style="display: none;" data-len="0">
                                            
                        <div class="article-tag-card__title">收录于话题</div>
                        <div class="article-tags">
                                                    </div>
                                    </div><div id="weixin_content"><p><img class="" data-copyright="0" data-ratio="0.3188202247191011" data-s="300,640" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/1_aPbK6xQJIHiaUOB16u0KcQnicDG9pg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou85etJYTkncLGY4Biavb6ibNacP7iaHc5fOEUUHZIlTV3uyqOmgKiaPbK6xQJIHiaUOB16u0KcQnicDG9pg/640?wx_fmt=png'" data-type="png" data-w="712" style=""></p><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×00 引言</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">很久很久以前，突然有一天，出现了GFW，不得已需要科学上网。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.1956521739130435" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/2_aYeQcsgzunhaspZfolq7ehQ1euzLew.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdEoeX24Ygm9j9nsaYbSYc9W4jaYeQcsgzunhaspZfolq7ehQ1euzLew/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">早期我们可能会采用HTTP Proxy代理，在浏览器上设置下代理服务器的IP、端口、认证账户和密码。但有些软件的网络通信数据并不是HTTP协议，就需要寻找其它方法。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">SOCKS代理是个不错的解决方案，不管应用层是什么协议，只要是传输层是TCP协议就可以代理。SOCKS代理中最新的协议是SOCKS5。相对SOCKS4作了大幅度的增强。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">首先，它增加了对UDP协议的支持；其次，可支持多种用户身份验证方式和通信加密方式；最后，修改了SOCKS服务器进行域名解析的方法，使其更加优雅。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">经过这次脱胎换骨的升级，SOCKS5于1996年被IETF确认为标准通信协议，RFC编号为1928。经过10余年的时间，大量的网络应用程序都支持SOCKS5代理。&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">关于SOCKS代理的更多资料感兴趣的可以自行搜索。让我们把科学上网的思路转变下，如果把SOCKS代理服务架设到内网中，并从外网访问内网的SOCKS代理服务，是否可以访问到内网中开放的各种资源，实现内网漫游呢？</span></p><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×01 转变SOCKS使用思路</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">我搭建了一个比较简单的模拟环境来验证这种想法，该过程主要演示SOCKS代理在内网漫游时发挥的重要作用。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5492753623188406" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/3_2URnTW8mKibfVIHQqgETDQksGfbuew.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdTDnzk2GOoxXsjFIgBX8veFSjH2URnTW8mKibfVIHQqgETDQksGfbuew/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;width: 677px;word-wrap: break-word !important;visibility: visible !important;" width="500"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">左侧是我们的个人电脑和一台具有公网IP的VPS，My PC通过NAT连接互联网。右侧模拟的是一个小型网络。假设我们获得了一台Web服务器的控制权限，该服务器配有两块网卡，10.0.27.131连通互联网，192.168.5.129可与内部网络连通。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">经过信息收集和端口扫描，小型网络结构如下图所示，由四台服务器和两台嵌入式设备组成。其中我们控制的Web服务器是连通互联网和内部网络的关键节点，其余服务器均不能直接连通互联网。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.6594202898550725" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/4_cDb4sPVnicXvJcBlhJVBoVH3IGX7Fw.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdEGJib971tcStEicHNhn3bicO4tt9icDb4sPVnicXvJcBlhJVBoVH3IGX7Fw/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 600px !important;visibility: visible !important;" width="600"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">想要在内网中漫游，我们希望能够访问服务器和设备提供的各种资源，因此需要通过某种方式使My PC上安装的浏览器及其它客户端等软件能够访问右侧内部网络中所有开放的端口。传统方法是利用lcx等工具，进行端口映射。比如要映射192.168.5.128的80端口：</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">1、在VPS上执行<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><code class="" style="padding: 0.5em;max-width: 100%;box-sizing: border-box;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size: inherit;color: rgb(68, 68, 68);border-radius: 0px;white-space: pre-wrap;display: block;overflow-x: auto;background-image: initial;background-attachment: initial;background-size: initial;background-origin: initial;background-clip: initial;background-position: initial;background-repeat: initial;word-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box;font-weight: 700;font-size:15px;line-height:35px;;word-wrap: break-word !important;">lcx.exe –listen 8080 80</span></code></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">2、在web服务器上执行<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><code class="" style="padding: 0.5em;max-width: 100%;box-sizing: border-box;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size: inherit;color: rgb(68, 68, 68);border-radius: 0px;white-space: pre-wrap;display: block;overflow-x: auto;background-image: initial;background-attachment: initial;background-size: initial;background-origin: initial;background-clip: initial;background-position: initial;background-repeat: initial;word-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box;font-weight: 700;font-size:15px;line-height:35px;;word-wrap: break-word !important;">lcx.exe –slave X.X.X.X 80 192.168.5.128 80</span></code></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">3、在左侧的My PC机上打开浏览器并输入<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><code class="" style="padding: 0.5em;max-width: 100%;box-sizing: border-box;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size: inherit;color: rgb(68, 68, 68);border-radius: 0px;white-space: pre-wrap;display: block;overflow-x: auto;background-image: initial;background-attachment: initial;background-size: initial;background-origin: initial;background-clip: initial;background-position: initial;background-repeat: initial;word-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box;font-weight: 700;font-size:15px;line-height:35px;;word-wrap: break-word !important;">http://X.X.X.X:8080</span></code></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">即可访问右侧内部网络中192.168.5.128服务器的80端口。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">lcx工具实现的是一对一的端口映射。但如果要想访问右侧内部网络中列出的所有端口，难道我们需要一次又一次地重复上述的步骤么？</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">这样不仅麻烦而且效率低下，并且当某些客户端软件在运行中需要访问已映射端口之外的端口时，这种传统方法也无能为力。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">此时正是展现SOCKS代理在内网漫游时的重要价值了！让我们在10.0.27.131这台既连通互联网又连通内部网络的Web服务器上架设SOCKS代理。</span></p><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×02 工具搜集</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">首先需要明确的是该Web服务器是Windows Server 2008 R2系统，所以选用的SOCKS代理软件服务端必须能够在Windows平台上正常运行，并且尽可能不需要安装其他依赖软件。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">同时，如果我们处于渗透测试的过程中，尽可能使用无GUI界面的工具。必须使用GUI界面配置和启动的SOCKS服务端程序将会放在最后考虑。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">按照这两条标准进行搜集，我发现下面几款工具，推荐一下！</span></p><h3 style="margin-top: 20px;margin-bottom: 15px;font-weight: bold;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font family: 微软雅黑;line-height: 1.1;color: rgb(0, 112, 192);word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">1、Earthworm</span></h3><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">作者：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">rootkiter</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">工具网址：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">http://rootkiter.com/EarthWorm</span></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">Earthworm不仅具备SOCKSv5的功能，还具备反弹式SOCKS代理和lcx端口转发、映射的全部功能（listen、tran、slave）。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">同时提供了多种可执行文件，以适用不同的操作系统，Linux、Windows、MacOS、Arm-Linux。命令行操作，无GUI，适合渗透测试使用。</span></p><h3 style="margin-top: 20px;margin-bottom: 15px;font-weight: bold;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font family: 微软雅黑;line-height: 1.1;color: rgb(0, 112, 192);word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">2、xsocks</span></h3><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">作者：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">5loyd</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">工具网址：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">https://github.com/5loyd/xsocks</span></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">xsocks是一款能在Windows和Linux系统上运行的反弹式SOCKS代理服务端。命令行操作，无GUI，适合渗透测试使用。当然使用前需要从github上下载代码编译，Windows用VS2010及以上版本即可编译。</span></p><h3 style="margin-top: 20px;margin-bottom: 15px;font-weight: bold;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font family: 微软雅黑;line-height: 1.1;color: rgb(0, 112, 192);word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">3、ShadowSOCKS（影梭）</span></h3><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">作者：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">@clowwindy</span>等 &nbsp;工具网址：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">https://github.com/shadowSOCKS&nbsp; &nbsp;&nbsp;</span>还有官网呀：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">http://shadowsocks.org</span></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">ShadowSOCKS是一个开源 SOCKS5 代理项目。如其官网所言，它是 “A secure SOCKS5proxy, designed to protect your Internet traffic” （一个安全的 SOCKS5 代理）。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">其作用，亦如该项目主页的 wiki中所说，“A fast tunnel proxy that helps you bypass firewalls” （一个可穿透防火墙的快速代理）。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">ShadowSOCKS有python、nodejs等诸多版本，还有移动版。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">在Windows平台下，推荐使用<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">libQtShadowSOCKS</span>，用C++编写并使用了Qt 5框架。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">Release版本地址：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">https://github.com/shadowSOCKS/libQtShadowSOCKS/releases</span></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">无GUI界面，命令行版，支持x86和x64系统，相当好用。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.6025437201907791" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/5_ibppCA9SiaAwxic2CayaAYVntDC99A.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdicIJMKhWrxZKkvmqfc97dJVwAWI5ibppCA9SiaAwxic2CayaAYVntDC99A/640?wx_fmt=jpeg'" data-type="jpeg" data-w="629" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;width: 677px;word-wrap: break-word !important;visibility: visible !important;" width="500"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">后面会详细介绍这款代理服务端程序的使用。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">前面主要是代理服务端程序的推荐，当然我们还需要客户端。</span></p><h3 style="margin-top: 20px;margin-bottom: 15px;font-weight: bold;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font family: 微软雅黑;line-height: 1.1;color: rgb(0, 112, 192);word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">4、SocksCap64</span></h3><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">作者：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">Taro</span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">工具网址：<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">http://www.sockscap64.com</span></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">一般浏览器是支持代理设置的，但如果是渗透测试，肯定要使用很多不同的工具，但这些工具并不能保证都支持代理设置。因此我们需要使用应用程序外壳代理软件来使不能设置代理的软件和程序的网络数据流量通过代理。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">推荐SocksCap64，比较靠谱的一个软件，可在Windows系统下使用。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">SocksCap64是由Taro Labs开发的一款免费的应用程序外壳代理软件。SocksCap64可以使Windows应用程序通过SOCKS代理服务器来访问网络而不需要对这些应用程序做任何修改, 即使某些本身不支持SOCKS代理的应用程序通过SocksCap64之后都可以完美的实现代理访问。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">例如: Web Browsers, IM程序, FTP Clients, e-mail programs or games。</span></p><blockquote style="margin-bottom: 20px;padding: 10px 20px;max-width: 100%;box-sizing: border-box;border-left-width: 5px;border-left-color: rgb(238, 238, 238);letter-spacing: 0.544px;text-align: justify;white-space: normal;font-size:14px;line-height:34px;;color: rgb(88, 88, 88);font family: 微软雅黑;line-height: 26px;background: rgb(247, 247, 247);word-wrap: break-word !important;"><p style="margin-bottom: 5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;font-size:15px;line-height:35px;;word-break: break-all;"><span style="font-size:15px;line-height:35px;;">（1）完美支持SOCKS4/5/Http/Shadowsocks代理协议。</span></p><p style="margin-bottom: 5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;font-size:15px;line-height:35px;;word-break: break-all;"><span style="font-size:15px;line-height:35px;;">（2）完美支持TCP&amp; UDP网络协议。</span></p><p style="max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;font-size:15px;line-height:35px;;word-break: break-all;"><span style="font-size:15px;line-height:35px;;">（3）支持远程SOCKS代理解析域名。</span></p></blockquote><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×03 架设代理服务端</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">工具推荐完了，需要在模拟环境中进行测试。经过测试，我发现shadowsocks代理服务端与SocksCap64应用程序外壳代理软件配合使用可以达到比较完美的效果。下面我将详细介绍这两款工具在模拟环境中的使用姿势。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">shadowsocks-libqss-v1.9.0-win64.7z下载完后解压，是一个单独的exe程序。将它上传到Windows系统的Web服务器上，同时准备一个配置文件<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">config.json</span>，里面配置好SOCKS端口，认证密码，和加密方式等。</span></p><blockquote style="max-width: 100%;color: rgb(51, 51, 51);font family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size:17px;line-height:37px;;letter-spacing: 0.544px;text-align: justify;white-space: normal;box-sizing: border-box !important;word-wrap: break-word !important;"><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">{</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">"server":"0.0.0.0",</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "server_port":1080,</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp;"local_address":"127.0.0.1",</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "local_port":1080,</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "password":"SOCKS5",</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "timeout":600,</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "method":"aes-256-cfb",</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "http_proxy": false,</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">&nbsp;&nbsp;&nbsp; "auth": false&nbsp;</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(68, 68, 68);font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 18.5714px;background-color: rgb(243, 243, 243);box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;">}</span></p></blockquote><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="max-width: 100%;box-sizing: border-box;font-weight: 700;font-size:15px;line-height:35px;;word-wrap: break-word !important;"></span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">将<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">config.json</span>文件上传到同一目录下。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">命令行执行<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><code class="" style="padding: 0.5em;max-width: 100%;box-sizing: border-box;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size: inherit;color: rgb(68, 68, 68);border-radius: 0px;white-space: pre-wrap;display: block;overflow-x: auto;background-image: initial;background-attachment: initial;background-size: initial;background-origin: initial;background-clip: initial;background-position: initial;background-repeat: initial;word-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box;font-weight: 700;font-size:15px;line-height:35px;;word-wrap: break-word !important;">shadowsocks-libqss.exe –c config.json –S</span></code></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.14573643410852713" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/6_C22VYvq1nn1flwLS73aCqUicmAjOVQ.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdtSLvM1MJrh6n56uJW6mJBubHyC22VYvq1nn1flwLS73aCqUicmAjOVQ/640?wx_fmt=jpeg'" data-type="jpeg" data-w="645" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 645px !important;visibility: visible !important;" width="645"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">由于这个代理服务端并不是架设在具有公网IP的服务器上，并且不具备反弹代理的功能，因此我们还需要利用lcx将代理端口映射到公网上。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">在公网VPS上执行<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><span style="font-size:15px;line-height:35px;;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><code style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">lcx –listen 80 8080</span></code></strong></span></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">在Web服务器上执行<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;"></span></span></p><pre style="margin-top: 0px;margin-bottom: 15px;padding: 9.5px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;overflow: auto;font family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:13px;line-height:33px;;line-height: 1.42857;word-break: break-all;border-width: 1px;border-style: solid;border-color: rgb(228, 228, 228);border-radius: 4px;background-color: rgb(243, 243, 243);"><span style="font-size:15px;line-height:35px;;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><code style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">lcs –slave X.X.X.X 80 127.0.0.1 1080</span></code></strong></span></pre><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="max-width: 100%;box-sizing: border-box;word-wrap: break-word;word-break: break-all;font-size:15px;line-height:35px;;">ok，万事具备，就等待我们连接代理啦。</span></p><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×04 配置SocksCap</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">下载安装SocksCap64，以管理员权限打开。默认浏览器已经添加。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5739130434782609" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/7_JpfjMNwtPU7ApuZSYfpDbJuchDKNIA.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hd8F6ZNNGgQWiatticWSRUcTq6YLJpfjMNwtPU7ApuZSYfpDbJuchDKNIA/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 600px !important;visibility: visible !important;" width="600"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">点击Proxy，设置下代理服务器IP、端口、口令、SOCKS类型和加密方式。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.2217391304347826" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/8_ODzB34ibIticDgFVwspt2Y30ibZeqg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdqibziboPpGTRGcE5Kug44PK3CTYPOODzB34ibIticDgFVwspt2Y30ibZeqg/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">根据之前在<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">config.json</span>中的配置参数，配置好即可，Account为空。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">从我们My PC电脑到模拟网络中Web服务器上SOCKS代理服务的整个通信链路就建立起来了!利用lcx的slave模式将代理端口反弹到公网VPS的80端口上，一般是可以穿透FW的。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.3333333333333333" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/9_u6xPjum9nljZjfcopbAAceSepFWW9Q.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hd5gWRlNO8XaDzU9tRJruRyyBvu6xPjum9nljZjfcopbAAceSepFWW9Q/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">让我们开启内网漫游的旅程吧！</span></p><p style="margin-top: 20px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;"><span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;font-weight: 700;word-wrap: break-word !important;">0×05 内网漫游</span>&nbsp;&nbsp; &nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">双击浏览器，然后输入我们想要访问的资源。轻松访问到192.168.5.128的80 端口、192.168.1.1小路由的80端口和树莓派的3000端口提供的资源。这种利用SOCKS代理实现一对多端口映射的优势立即体现了出来，效率倍增。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5855072463768116" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/10_QdM0iaibib9FB1ofbAickfXHRSulDw.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdB8NvsUkembuoAdOZYjaJrniaDFk7XQdM0iaibib9FB1ofbAickfXHRSulDw/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">此时在架设代理的Web服务器上查看netstat-ano网络连接，可以看到，代理程序正在访问内部网络中多个IP的不同端口。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.2579710144927536" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/11_LbfPDDO2CAOc9mzxJ8Qo7aSzjtq05A.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdEVkNJk1yyCdrTq6obic8icm6xzLbfPDDO2CAOc9mzxJ8Qo7aSzjtq05A/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">我们成功实现了一台不在该模拟网络中的电脑通过SOCKS代理漫游内部网络任意Web资源的目标。&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">还有哪些程序能够利用SocksCap外壳程序通过代理访问模拟内部网络中的开放端口呢？</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5754098360655737" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/12_XpCnfzOXqbGoibj5peIc7kKxgeoPLg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdoVgYT0jQNEhSQNfnQtyiaGHPW8XpCnfzOXqbGoibj5peIc7kKxgeoPLg/640?wx_fmt=jpeg'" data-type="jpeg" data-w="610" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 600px !important;visibility: visible !important;" width="600"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">添加远程桌面到ScoksCap中，如图。尝试访问192.168.5.130的3389。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.42028985507246375" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/13_qxXeLzxNGTZPubxJFwqjWEjZAPAEww.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hd8XS6bKOp9tQDWredVHUaic10icqxXeLzxNGTZPubxJFwqjWEjZAPAEww/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;background-color: rgb(238, 237, 235);border-width: 0px;border-style: initial;border-color: initial;background-size: 22px;background-position: center center;background-repeat: no-repeat;vertical-align: middle;display: inline;height: 284.536px !important;word-wrap: break-word !important;width: 677px !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.04782608695652174" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/14_c00aVISTztvjr32IfgYK1TdaMn8OaA.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdPib6fKicWjwhcEuauh6zpCsv2dic00aVISTztvjr32IfgYK1TdaMn8OaA/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;height: 32.3783px !important;word-wrap: break-word !important;width: 677px !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">Cool，此时在架设代理的服务器上查看网络连接，可以看到代理程序与192.168.5.130的3389端口产生的网络连接。&nbsp;</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">还记得模拟环境中的树莓派开放的5901端口么，估计是VNC的端口，让我们试试。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">将VNC-Viewer程序添加到SocksCap中，看来有问题呀…..</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.45072463768115945" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/15_bj92llickNecuAuxgRvmpCTlBUqIFg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdlSTIdr5zXIXL6uh1ibE9Dn5rxEbj92llickNecuAuxgRvmpCTlBUqIFg/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">不过没关系，可以采用传统的lcx一对一端口映射来解决这个问题。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">再试试putty，添加putty到SocksCap中。用putty访问192.168.5.128的22端口，成功登陆。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.4043478260869565" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/16_nVYYZicXhFnfV2PvwoRz20ZmwiaXbg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdGovqfkLnicj0UD7BUt8aojibkL21nVYYZicXhFnfV2PvwoRz20ZmwiaXbg/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.04782608695652174" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/17_2OlS2kd7FCfUsTxOSvVE4U1R3luCuA.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hdia9dT2H5mFOhNQZvicudb0cTSr2OlS2kd7FCfUsTxOSvVE4U1R3luCuA/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">最后我们需要访问一台ESXi服务器，试试用VMware vSphere Client通过代理能否访问它。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5130434782608696" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/18_AJgNEOblIXkyI0uia7d84eAUF18eYA.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdxG7lCRbtsLkpVPOoJVk2CxYTvAJgNEOblIXkyI0uia7d84eAUF18eYA/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">将VMware vSphere Client加入<span style="font-size:15px;line-height:35px;;max-width: 100%;box-sizing: border-box;word-wrap: break-word;word-break: break-all;">SocksCap</span>中，输入IP、用户和口令。点击Login后发起网络连接。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.3753623188405797" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/19_aiaricHZpGsyiadZsQ0aEFFyRMicog.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdmRnuuHvZC5foFLZPaw1Zs68oKuGsaiaricHZpGsyiadZsQ0aEFFyRMicog/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">bingo，借助SOCKS代理成功登陆，在架设代理的服务器上可以看到相应的网络连接。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.04492753623188406" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/20_61SjV3eqMD57ibRuRIevseX8Dg2Bjg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdJgI3ua4DHmdbs8AVDd0uB9GJ361SjV3eqMD57ibRuRIevseX8Dg2Bjg/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">VMware vSphere Client客户端主要与ESXi的443端口进行通信。打开一台S2008R2x64的虚拟服务器的电源，并使用Console进行桌面登陆。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5028985507246376" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/21_jberwcNv4qjy9aphkmcA7bHeDyqicw.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdC5oxtQvrG6YQ3NFxnajVJFr8fjberwcNv4qjy9aphkmcA7bHeDyqicw/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">然后，我们再打开Datastore，浏览存储目录并尝试下载文件。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.5304347826086957" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/22_wCU1n9s2tEDf2O59I5BNMEeiaamj3w.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3HdAuOE6uchexib2dZEb1sjSFqyOVwCU1n9s2tEDf2O59I5BNMEeiaamj3w/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 677px !important;visibility: visible !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">在用Console登陆虚拟机和从Datasotr上浏览目录下载文件时，我仔细观察了代理服务器的网络连接。请注意与902端口产生的网络连接。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.07391304347826087" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/23_1t4daDagVYZ7oGAN88Ux2FPSkU2gWA.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hdm5ib0t58cacDTnqDpg4EhibrMf1t4daDagVYZ7oGAN88Ux2FPSkU2gWA/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;background-color: rgb(238, 237, 235);border-width: 0px;border-style: initial;border-color: initial;background-size: 22px;background-position: center center;background-repeat: no-repeat;vertical-align: middle;display: inline;height: 50.0391px !important;word-wrap: break-word !important;width: 677px !important;" width="690"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">当我们使用VMware vSphereClient登陆ESXi时，通信是建立在ESXi的443端口上。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">但当我们使用Console和Datastore Browser时，VMware vSphere Client客户端会与ESXi的902端口建立新的通信，通过数据包分析发现Console和Datastore Browser的数据均通过902端口传输。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">如果此时使用传统一对一的端口映射，先将ESXi的443端口映射到公网，再使用Client登陆。当点击Console面板时，Client突然产生与其它端口的网络通信会让我们手忙脚乱。此时使用SOCKS代理的就能轻松解决这个问题。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;text-align: center;"><img class="" data-ratio="0.6507246376811594" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/24_buJDiaRUTg2vaZtictY1icmQicBNjw.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/qq5rfBadR39me7yOsm7xMlqVN0MOp3Hd3t6Y0Yt85yYV7JOUJEpnw2BPwn76buJDiaRUTg2vaZtictY1icmQicBNjw/640?wx_fmt=jpeg'" data-type="jpeg" data-w="690" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;display: inline;word-wrap: break-word !important;width: 600px !important;visibility: visible !important;" width="600"></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">在内网架设SOCKS代理，再利用SocksCap等类似程序，就好比我们把工具扔到了上图的Web服务器上，只需要关心该跳板服务器能否访问到内部网络中的其他IP的不同端口。</span></p><p style="margin-bottom: 10px;max-width: 100%;box-sizing: border-box;word-wrap: break-word;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);font-size:15px;line-height:35px;;line-height: 26px;word-break: break-all;color: rgb(88, 88, 88);font family: 微软雅黑;"><span style="font-size:15px;line-height:35px;;">利用SOCKS代理实现漫游内部网络，也为渗透测试提供了一个良好的跳板支点，并可以发挥部分GUI工具的效能。</span></p><p><img class="" data-copyright="0" data-ratio="0.3281027104136947" data-s="300,640" src="图片/HACK学习呀_2018-10-13_SOCKS代理渗透之内网漫游代理姿势/25_9kZ6Bzp6HKPIkCGYkfBsPynR63cBgg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou85etJYTkncLGY4Biavb6ibNajxPOSFB9UFWD40tY4uCrHqy59kZ6Bzp6HKPIkCGYkfBsPynR63cBgg/640?wx_fmt=png'" data-type="png" data-w="701" style=""></p><p><br  /></p>
                </div>
</div>
</body>
</html>