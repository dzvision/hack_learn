<html>
<head>
<title>深入了解MD4，MD5，SHA哈希密码算法与破解技术</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0;max-width:100%;box-sizing:border-box;}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{-webkit-touch-callout:none;font family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px;line-height:36px;}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;line-height:37px;;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:42px;;line-height:1.4;margin:10px 0;padding-bottom:10px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;line-height:35px;;line-height:35px;;line-height:35px;;line-height:35px;;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:rgba(0,0,0,0.3)}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;line-height:34px;;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;line-height:32px;;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;line-height:38px;;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size:15px;line-height:35px;;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}.playVideoWx{position:relative;display:block;}.icon_mid_play{position:absolute;z-index:9999;top:50%;left:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:48px;height:48px;background:rgba(237,237,237,0.9);border-radius:50%}.icon_mid_play:before{content:"";text-indent:-999em;display:inline-block;width:28px;height:28px;vertical-align:middle;background-size:cover;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E  %3Cpath fill='%23151515' fill-rule='evenodd' d='M9.524 4.938l10.092 6.21a1 1 0 0 1 0 1.704l-10.092 6.21A1 1 0 0 1 8 18.21V5.79a1 1 0 0 1 1.524-.852z'/%3E%3C/svg%3E")}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head>
<body>
<div class="rich_media">
                
                <h1 class="rich_media_title" id="activity-name">
                    
                    
                    
深入了解MD4，MD5，SHA哈希密码算法与破解技术
                </h1>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                                    HACK学习
                                                            </span>
                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" class=" weui-wa-hotarea" id="js_name">
                        HACK学习呀                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">HACK学习呀</strong>
                              

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">Hacker1961X</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">HACK学习，专注于互联网安全与黑客精神；渗透测试，社会工程学，Python黑客编程，资源分享，Web渗透培训，电脑技巧，渗透技巧等，为广大网络安全爱好者一个交流分享学习的平台！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>
                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2018-11-08</em>
                </div>

                
                                                <div id="js_tags"  class="article-tag__list" style="display: none;" data-len="0">
                                            
                        <div class="article-tag-card__title">收录于话题</div>
                        <div class="article-tags">
                                                    </div>
                                    </div><div id="weixin_content"><blockquote data-mpa-powered-by="yiban.io"><p><strong style="color: rgb(171, 25, 66);"><span style="line-height: 1.6;">简介</span></strong><br  /></p></blockquote><p><br  /></p><p><br  /></p><section ng-bind-html="postContentTrustedHtml" ui-copyright-check="" data-entry-url="/p/25446848" data-author-name="Linso" ng-if="ownPost(post) || !isCensoring"><p>密码（password）是最广泛使用的认证系统之一，防止未经授权的用户访问系统，无论是离线还是在线。在大多数系统中，密码是通过加密存储的，以便为每个用户提供安全性。然而，在这些密码的加密之内，仍然存在漏洞。本文将回顾关于密码哈希（hash）函数的学术和出版文献，特别指出MD4，MD5，SHA算法以及在Linux操作系统中使用Salt字符串。</p><p><br  /></p><p>在此之后，洞察密码破解的方法为检验（reviews），确定字典攻击，暴力攻击和彩虹表（Rainbow Table）的使用。本次审查将允许更深入地了解安全功能和可能的漏洞在此机制内进行调查后。调查将使用UNIX开发的软件John Ripper和RainbowCrack来查看最常见的密码破解方法之一。</p><p><span style="line-height: 1.6;"><br  /></span></p><p><span style="line-height: 1.6;">John Ripper是一个密码破解器，它将多密码密码破解技术组合到一个程序中，更具体地说，利用字典攻击和强力方法来识别用户的密码，并且可以针对各种密码加密算法运行。暴力和字典攻击生成所有可能的明文密码，因为它处理和比较哈希与目标哈希，一旦匹配的密码可以识别。彩虹表攻击是一种以空间换时间的黑客攻击方法，它将进行预计算，并把结果存储在所谓的彩虹表中。</span></p><p><br  /></p><p>彩虹表（彩虹表如何工作？ ）包含目标密码哈希运行直到它达到匹配的纯文本/散列链的列表。调查将首先主要在Linux操作系统中使用John Ripper ; 对该系统中的密码文件运行字典/强力攻击，其使用SHA512算法。在Windows操作系统将调查Rainbow攻击，以从MD5哈希函数提取密码。我们将调查这两个软件，以允许解释哈希函数和密码破解技术在现代操作系统及其中的文件系统。下列调查突出并解释了使用破解技术作为访问用户系统的手段突出显示了在入侵方法和计算机取证中的使用。此外，这将提供对密码哈希算法的安全功能的进一步了解，并识别关键计算机网络安全中的漏洞，允许我们批判性地评估，理解和部署这些方法。</p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.3509090909090909" data-type="jpeg" data-w="550" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/1_aIdP3YGoHZRtAZs9tSJ8RHMF7aDMBg.jpg" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_jpg/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibI6SS86VqRwfzmKaibLuFTPyzwiaIdP3YGoHZRtAZs9tSJ8RHMF7aDMBg/640?wx_fmt=jpeg'" width="550"  /><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>哈希函数（MD4，SHA，MD5和DES）和Salt字符串</strong></span></p><p><br  /></p><p>所有系统通常都需要使用用户名和密码进行身份验证。解释了获得访问的典型实例分为两个阶段：</p><p><br  /></p><p>认证（Authentication） - 这是系统检查标识符的地方; 这可能是一个电子邮件地址或用户名。然后它将根据系统的密码文件检查密码，如果匹配正确，则允许访问。</p><p><br  /></p><p>授权（Authorisation） - 这是系统根据其数据库检查标识符或密码，以识别用户在该系统中的权限级别。</p><p><br  /></p><p>所以大多数系统都以加密格式存储和发送密码，以最大限度地防御潜在的攻击和漏洞。大多数系统包含使用输入字符串创建输出字符串的单向函数。<br  /></p><p><br  /></p><p>哈希算法是加密口令的最受欢迎的方法。当用户以明文形式创建密码时，它通过散列算法运行以产生存储在文件系统中的密码文本。三种最广泛使用的算法是MD5，SHA和RIPEMD; 然而所有算法都来自MD4的格式<br  /></p><p><br  /></p><p><strong>总结了所使用的主要算法：</strong></p><p><br  /></p><p><strong>·MD4：</strong>具有3轮16步，输出位长度为128位。</p><p><strong>·MD5：</strong>具有4轮16步，输出位长128位。</p><p><strong>·SHA-1：</strong>具有4个20阶的步长和160位的输出位长度。</p><p><strong>·RIPEMD-160：</strong>具有5轮16步，输出位长160位。</p><p><strong>·SHA-256：</strong>具有64轮单步，输出位长度为256位。</p><p><strong>·SHA-384：</strong>实际上与SHA-512相同，除了输出被截断为383位。</p><p><strong>·SHA-512：</strong>具有80个单步的轮数和512位的输出位长度。</p><p><br  /></p><p>Linux和Windows之间的安全特性的主要区别是UNIX系统使用Salt Strings。如（Whitaker和Newman，2005）所述，salt字符串生成随机生成的值，该值随着使用密码哈希处理的每个密码存储。这允许为系统中的每个密码提供额外的安全性，特别是对于简单密码或重用密码。<br  /></p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>调查字典和彩虹攻击密码哈希</strong></span></p><p><br  /></p><p>首先，我们将使用John The Ripper来研究 Linux内字典攻击和暴力攻击的功能。大多数Linux系统可以选择使用哪个哈希函数来存储密码，在Linux系统中，使用的哈希算法在文件/etc/login.defs中定义，以查看我们可以执行的算法：</p><pre style="font-size: 1em;font-variant-ligatures: normal;orphans: 2;widows: 2;font family: Consolas, Inconsolata, Courier, monospace;line-height: 1.2em;margin-top: 1.2em;margin-bottom: 1.2em;"><code class="hljs language-javascript" style="font-size: 0.85em;font family: Consolas, Inconsolata, Courier, monospace;margin-right: 0.15em;margin-left: 0.15em;overflow: auto;border-radius: 3px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);padding: 0.5em;color: rgb(248, 248, 242);background: rgb(35, 36, 31);display: block !important;">$ grep -A <span class="hljs-number" style="color: rgb(174, 129, 255);">18</span> ENCRYPT_METHOD /etc/login.defs</code></pre><p><img class="origin_image zh-lightbox-thumb" data-ratio="1.1216666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/2_tml6x2E0qlCjNxOGuBVTU9F97dFguw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXib7yD2PJvTbBXiaLuhugcrWLEmiatml6x2E0qlCjNxOGuBVTU9F97dFguw/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>在这里我们已经确定这个系统使用SHA512如上所述。在此系统上，所用的用户可以访问/ etc / shadow文件<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="1.12" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/3_jicHWnsnxVapssuoiaqRNnvmpMicxQ.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibhHJZ9ia5bFuSiaw3ibeoIQzAPkjCg4jicHWnsnxVapssuoiaqRNnvmpMicxQ/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>其中包含每个用户密码的哈希值。<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/4_52XoPuw7anGyHOttYhAlsn3Y3ENTTw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibY87rsjxeddE3Gqg4ibZeWJUFM52XoPuw7anGyHOttYhAlsn3Y3ENTTw/640?wx_fmt=png'" width="1800"  /></p><p><br  /></p><p>我们可以看到，我们现在可以访问密码的String值和Hash值。这里的字符串值是$ 6 $，它再次标识为SHA512散列算法<br  /></p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/5_z2ZLYooCwfiaW9ibyCHp0Bg9M3ZL0w.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibiaZbjR0d1C4IKgiaEoBVuTszfgurz2ZLYooCwfiaW9ibyCHp0Bg9M3ZL0w/640?wx_fmt=png'" width="602"  /><br  /><p><br  /></p><p>这里，这使我们可以看到如何存储哈希函数和盐串。例如，如果散列与$ 1 $一起存储在它的前面，我们将知道它使用MD4算法来生成散列。为了运行字典攻击，我们必须在文本文件中具有目标密码哈希。这可以通过复制密码哈希值，只要你有权限，但也可以使用功能，如Linux中的Unshadow命令，在我们安装了John<br  /></p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/6_oB3t7rr5qDDDvDR9DpBZdkblJ3FGYA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibX1NjvZC0w0oPCWflw5tVbWSwoB3t7rr5qDDDvDR9DpBZdkblJ3FGYA/640?wx_fmt=png'" width="602"  /><br  /><p><br  /></p><p>运行命令：</p><pre style="font-size: 1em;font-variant-ligatures: normal;orphans: 2;widows: 2;font family: Consolas, Inconsolata, Courier, monospace;line-height: 1.2em;margin-top: 1.2em;margin-bottom: 1.2em;"><code class="hljs language-javascript" style="font-size: 0.85em;font family: Consolas, Inconsolata, Courier, monospace;margin-right: 0.15em;margin-left: 0.15em;overflow: auto;border-radius: 3px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);padding: 0.5em;color: rgb(248, 248, 242);background: rgb(35, 36, 31);display: block !important;"> $ sudo unshadow / etc / passwd / etc / shadow&gt; passwd<span class="hljs-number" style="color: rgb(174, 129, 255);">.1</span></code></pre><p>这现在创建一个文本文件，密码哈希/ etc / shadow到文件passwd.1，我们需要对字典运行<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/7_CWh9xb2wuKKicUsITv3PNAZp6thCZA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibromJpgLIwATcymKicfoYnwZW5eCWh9xb2wuKKicUsITv3PNAZp6thCZA/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>在John中，存储了用于攻击的词典字典，需要更大的词典以允许更快的解密和对更复杂的密码的攻击</p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/8_6yblcyaR9or3Vtic0w5fGe7CdfQ30A.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibeJs45gmcibCLUclSuDV7NNW81r6yblcyaR9or3Vtic0w5fGe7CdfQ30A/640?wx_fmt=png'" width="602"  /><img class="origin_image zh-lightbox-thumb" data-ratio="0.67" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/9_nsIx8SARnO1icTsPUgiaicFABZ6hcA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibHWPSwriczILu6RqC2DYPRbj4aQYhnsIx8SARnO1icTsPUgiaicFABZ6hcA/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>包含已保存的哈希值的密码文件现在通过John运行。John从之前显示的字典中获取字符串，并计算每个可能的值，直到找到与目标哈希的完全匹配，识别密码。我们现在通过发出以下命令来执行此操作：<br  /></p><pre style="font-size: 1em;font-variant-ligatures: normal;orphans: 2;widows: 2;font family: Consolas, Inconsolata, Courier, monospace;line-height: 1.2em;margin-top: 1.2em;margin-bottom: 1.2em;"><code class="hljs language-javascript" style="font-size: 0.85em;font family: Consolas, Inconsolata, Courier, monospace;margin-right: 0.15em;margin-left: 0.15em;overflow: auto;border-radius: 3px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);padding: 0.5em;color: rgb(248, 248, 242);background: rgb(35, 36, 31);display: block !important;"> $ sudo / usr / bin / john passwd<span class="hljs-number" style="color: rgb(174, 129, 255);">.1</span></code></pre><p><img class="origin_image zh-lightbox-thumb" data-ratio="1.1283333333333334" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/10_qq7wTcicNnLtgBKGp9PsHuxZLBBjAA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibYnFAIgwcsnQeGWRicWxAbaQVFIqq7wTcicNnLtgBKGp9PsHuxZLBBjAA/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>可以看出，我们现在已经加载了6个密码散列（因为这个系统上有6个用户）。出于本调查的目的，我们只想识别dfluser的密码。之后john运行字典攻击，它就会识别匹配<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="1.13" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/11_icQTxzVLppTicAsjdRPkbbGChU29Xg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibyaVmHia0cDGOSqZqEa8zepAKVSNicQTxzVLppTicAsjdRPkbbGChU29Xg/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>并将其存储<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="1.13" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/12_yoAJu3ET1qxaKTAIEVlEdTtf7YiaXg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXiblE4of3Iuf1q9vAPbADoDE6ILayoAJu3ET1qxaKTAIEVlEdTtf7YiaXg/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>根据密码的复杂性，这可能需要不同的时间。正如你可以看到，在Linux中运行使用John的字典攻击对于简单的密码是相对有效的，并且使用这种字典攻击方法可以很容易地在Windows和Linux文件系统上使用。例如，如果被攻击者想要从另一个系统（如Windows）或SQL文件<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.5616666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/13_we0YFsmj7bo24oLbiaypEAcTgoqEjw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibGToMt708A8iasoLzbvOrhYnZj5we0YFsmj7bo24oLbiaypEAcTgoqEjw/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>中查找散列值，则攻击者只需创建一个带有散列的文本文件（或可能是密码文件转储）值并通过john的字典攻击运行。然而，显然，密码的复杂性和字典的大小将决定处理匹配所需的时间。<br  /></p><p><br  /></p><p>引用RainbowCrack软件利用时间存储器权衡技术来加速密码破解的过程。它通过使用彩虹表来做到这一点; 预先计算的明文和散列。为了做到这一点，必须首先创建彩虹表，以加快攻击者的密码破解过程。基本上这允许攻击者做的是在预先计算的表中存储每个可能生成的哈希，类似于John实时生成的哈希。<br  /></p><p><br  /></p><p>构建彩虹表需要相当长的时间，但是一旦创建，它允许密码破解数百次比标准字典攻击。解释了Rainbow Tables包括散列函数和缩减函数; 在这里，散列函数将明文处理为像操作系统那样的哈希。减少将散列处理为明文。彩虹表允许这种快速处理的地方在于它包括这些单向散列和缩减函数的链。从</p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.47368421052631576" data-type="png" data-w="494" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/14_343pGkf2hVee5hyHwFFR53qCJqWM0A.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXib4ngWic8FEPjPPYWqu7O7rhrYd343pGkf2hVee5hyHwFFR53qCJqWM0A/640?wx_fmt=png'" width="494"  /><br  /><p><br  /></p><p>我们可以看出，该表由明文字符串组成，每个密码通过它们的起点和终点。</p><p>安装RainbowCrack 后，我们看到我们有许多不同的组件组成软件<br  /></p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.8216666666666667" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/15_Jm0c3mP64CEVc3MV5lyOoG8JDNtU3A.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibaHJZJmgHgr7NaibsA8K4STlUwJm0c3mP64CEVc3MV5lyOoG8JDNtU3A/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>Rtgen.exe允许我们根据我们想要的要求生成彩虹表。一旦我们创建了这个，表需要被排序链以允许前面讨论的过程，这是使用rtsort.exe完成。最后，rcrack_gui.exe是GUI，它允许我们根据目标密码哈希查找排序的Rainbow表。要开始调查如何操作，创建彩虹表。<br  /></p><p><br  /></p><p>详细介绍了命令行语法rtgen.exe如下：</p><pre style="font-size: 1em;font-variant-ligatures: normal;orphans: 2;widows: 2;font family: Consolas, Inconsolata, Courier, monospace;line-height: 1.2em;margin-top: 1.2em;margin-bottom: 1.2em;"><code class="hljs language-javascript" style="font-size: 0.85em;font family: Consolas, Inconsolata, Courier, monospace;margin-right: 0.15em;margin-left: 0.15em;overflow: auto;border-radius: 3px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);padding: 0.5em;color: rgb(248, 248, 242);background: rgb(35, 36, 31);display: block !important;">Rtgen hash_algorithm charset plaintext_len_min plaintext_len_max table_index chain_len chain_num part_index</code></pre><p>为了这个调查的目的，我们将创建一个彩虹表集与6张彩虹表，以允许更快的计算时间。</p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.9316666666666666" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/16_YwWENJeia6WYGZAGVia5xWluHwXicA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibwIQnicjuWic4lWTibqKlOwK0cqKmBJYwWENJeia6WYGZAGVia5xWluHwXicA/640?wx_fmt=png'" width="602"  /><br  /><p><br  /></p><p>以下命令用于生成彩虹表： &nbsp;<br  /></p><pre style="font-size: 1em;font-variant-ligatures: normal;orphans: 2;widows: 2;font family: Consolas, Inconsolata, Courier, monospace;line-height: 1.2em;margin-top: 1.2em;margin-bottom: 1.2em;"><code class="hljs language-javascript" style="font-size: 0.85em;font family: Consolas, Inconsolata, Courier, monospace;margin-right: 0.15em;margin-left: 0.15em;overflow: auto;border-radius: 3px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);padding: 0.5em;color: rgb(248, 248, 242);background: rgb(35, 36, 31);display: block !important;">C：\ md5 loweralpha-numeric <span class="hljs-number" style="color: rgb(174, 129, 255);">1</span> <span class="hljs-number" style="color: rgb(174, 129, 255);">7</span> <span class="hljs-number" style="color: rgb(174, 129, 255);">0</span> <span class="hljs-number" style="color: rgb(174, 129, 255);">3800</span> <span class="hljs-number" style="color: rgb(174, 129, 255);">33554432</span> <span class="hljs-number" style="color: rgb(174, 129, 255);">0</span></code></pre><p>由于我们使用密码中具有较低字母数字的MD5算法，这是我们需要破解此密码。然而，对于更复杂的密码，可能需要具有不同密码散列函数的更复杂的彩虹表。CPU现在将计算表中的所有彩虹链</p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.9416666666666667" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/17_PuKlO5ITwibK82uStMX6pMtoDgrIgw.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibQVUdfDWec2dFliaOxqWex34DuJPuKlO5ITwibK82uStMX6pMtoDgrIgw/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>该表由33,554,432个链组成。创建的彩虹表大约需要6个小时在普通处理器上完成，这突出了文件的复杂性，考虑到这是破解非常简单的密码的最基本的表。一旦彩虹表的计算完成</p><p><br  /></p><img class="origin_image zh-lightbox-thumb" data-ratio="0.9516666666666667" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/18_bgibSAgbpvibYZNbFEO8ksrbgKhSNg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibiclFZ4O4TjWh0jbYiaicHlAQhh6KrbgibSAgbpvibYZNbFEO8ksrbgKhSNg/640?wx_fmt=png'" width="602"  /><br  /><p><br  /></p><p>一旦加载，密码哈希就被添加到rcrackGUI</p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.735" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/19_u4BicpfkkG5G5k36n6VJCTYDyGv0IA.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXib5BRfSAiaes95unjSeEH94zPSZXu4BicpfkkG5G5k36n6VJCTYDyGv0IA/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>我们之前上传的MD5 LowerAlpha数字彩虹表。</p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.78" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/20_BIic04dmcagQhBM0icibBImCGmY1Pg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibGT1joVLaBhZS5D6AiarBz9RuD3sXBIic04dmcagQhBM0icibBImCGmY1Pg/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>一旦完成，密码以纯文本和十六进制格式显示，</p><p><br  /></p><p><img class="origin_image zh-lightbox-thumb" data-ratio="0.7333333333333333" data-type="png" data-w="600" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/21_8XhiaKrKeibeIyfSUJvsiak7GZ8L6g.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/mbeDyxcszeHIOOkRCCHD1vpXjlvYHSXibLN0OGXZs49Ahwl92I2UQ5Nxz3Kv8XhiaKrKeibeIyfSUJvsiak7GZ8L6g/640?wx_fmt=png'" width="602"  /></p><p><br  /></p><p>完成需要1.51秒。这突出显示，尽管彩虹表最初可能需要大量的时间来创建，一旦创建，密码破解可以根据攻击者可能具有的表格轻松和快速地完成。<br  /></p><br  /><p><span style="color: rgb(171, 25, 66);"><strong>结论</strong></span></p><p><br  /></p><p>已经进行了大量研究来检查在系统中使用密码哈希所面临的有效性和漏洞。然而，重要的是要强调，为了成功破解操作系统中的密码，如本调查所示;攻击需要获得具有目标密码的哈希值的密码文件，或者通过在目标上实施分组嗅探。大多数讨论的文献回顾了这样的事实，即简单的密码哈希更容易破解，由于破解复杂密码的计算处理。正如我们从调查中看到的，使用的密码和散列算法（例如SHA526）越复杂，由于破解计算所需的时间长度，攻击者可能会变得越不切实际。在此调查中使用Dictionary和Rainbow攻击允许我们分析密码哈希的影响，并比较当密码破解时可以使用的替代方法。通过对密码哈希和破解技术的更深入分析，本调查强调，系统中密码安全的最佳方法是确保包含大写，小写，数字和特殊字符的强大的密码创建。虽然这不能完全防御这些攻击，但它确实对攻击者造成不切实际，可能会起到威慑作用。</p></section><p><strong style="color: rgb(255, 104, 39);font family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size:14px;line-height:34px;;letter-spacing: 0.544px;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><strong style="letter-spacing: 0.544px;color: rgb(136, 136, 136);"><img data-type="png" class="" data-ratio="0.109375" data-w="640" data-backw="501" data-backh="54" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/22_rsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png'" style="letter-spacing: 0.544px;color: rgb(51, 51, 51);font-size:17px;line-height:37px;;text-align: justify;font family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible !important;width: 639.6px !important;"  /></strong></strong></p><blockquote style="white-space: normal;"><p><span style="color: rgb(136, 136, 136);line-height: 1.6;font-size:10px;line-height:30px;;">来自：Linso的混元随笔</span></p><p><span style="line-height: 1.6;color: rgb(136, 136, 136);font-size:10px;line-height:30px;;">链接：https://zhuanlan.zhihu.com/p/25446848（点击尾部阅读原文前往）</span><span style="color: rgb(136, 136, 136);font-size:12px;line-height:32px;;line-height: 1.6;"><strong style="color: rgb(171, 25, 66);line-height: 22.4px;"><span style="color: rgb(136, 136, 136);font-size:12px;line-height:32px;;line-height: 1.6;"><strong style="color: rgb(0, 82, 255);font-size:16px;line-height:36px;;background-color: rgb(255, 255, 255);"></strong></span></strong></span></p><p style="text-align: center;"><img class="" data-copyright="0" data-ratio="0.3281027104136947" data-s="300,640" src="图片/HACK学习呀_2018-11-08_深入了解MD4，MD5，SHA哈希密码算法与破解技术/23_9kZ6Bzp6HKPIkCGYkfBsPynR63cBgg.png" onerror="this.src='https://mmbiz.qpic.cn/mmbiz_png/Uq8Qfeuvou85etJYTkncLGY4Biavb6ibNajxPOSFB9UFWD40tY4uCrHqy59kZ6Bzp6HKPIkCGYkfBsPynR63cBgg/640?wx_fmt=png'" data-type="png" data-w="701" style=""  /></p></blockquote>
                <div class="msg_source_url"><a href="https://zhuanlan.zhihu.com/p/25446848">阅读原文</a></div></div>
</div>
</body>
</html>